[{"path":[]},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others’ private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying standards acceptable behavior. Enforcement responsibility Code Conduct Committee, take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Instances abusive, harassing, otherwise unacceptable behavior may reported member Code Conduct Committee. complaints reviewed investigated promptly fairly. Code Conduct Committee use Enforcement Manual determining consequences action deem violation Code Conduct. community leaders Code Conduct Committee members obligated respect privacy security reporter incident.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.1, available https://www.contributor-covenant.org/version/2/1/code_of_conduct.html. Community Impact Guidelines inspired Mozilla’s code conduct enforcement ladder. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https://www.contributor-covenant.org/translations.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to hubValidations","title":"Contributing to hubValidations","text":"outlines propose change hubValidations. general info contributing , hubverse packages, please see hubverse contributing guide. can fix typos, spelling mistakes, grammatical errors documentation directly using GitHub web interface, long changes made source file. generally means ’ll need edit roxygen2 comments .R, .Rd file. can find .R file generates .Rd reading comment first line.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/CONTRIBUTING.html","id":"bigger-changes","dir":"","previous_headings":"","what":"Bigger changes","title":"Contributing to hubValidations","text":"want make bigger change, ’s good idea first file issue make sure someone team agrees ’s needed. ’ve found bug, please file issue illustrates bug minimal reprex (also help write unit test, needed). procedures contributed bigger changes, code particular, generally follow advised tidyverse dev team, including following tidyverse style guide code recording user facing changes NEWS.md.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/CONTRIBUTING.html","id":"submitting-new-check-functions","dir":"","previous_headings":"","what":"Submitting new check functions","title":"Contributing to hubValidations","text":"submitting new check function, please ensure update inst/check_table.csv metadata check. file records metadata check functions, standard optional used primarily documentation. Information required includes: - Name check (appear hub_validations object output calling function). field NA optional functions name user defined. - Description check. - Whether cause calling function return early. - Whether returns <check_error> <check_warning> class object check fails. - calling function designed called . - additional information contained function output. - Whether check optional.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/CONTRIBUTING.html","id":"pull-request-process","dir":"","previous_headings":"Submitting new check functions","what":"Pull request process","title":"Contributing to hubValidations","text":"Fork package clone onto computer. haven’t done , recommend using usethis::create_from_github(\"Infectious-Disease-Modeling-Hubs/hubValidations\", fork = TRUE). Install development dependencies devtools::install_dev_deps(), make sure package passes R CMD check running devtools::check(). R CMD check doesn’t pass cleanly, ’s good idea ask help continuing. Create Git branch pull request (PR). recommend using usethis::pr_init(\"brief-description--change\"). Make changes, commit git, create PR running usethis::pr_push(), following prompts browser. title PR briefly describe change. body PR contain Fixes #issue-number. user-facing changes, add bullet top NEWS.md (.e. just first header). Follow style described https://style.tidyverse.org/news.html.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/CONTRIBUTING.html","id":"code-style","dir":"","previous_headings":"Submitting new check functions","what":"Code style","title":"Contributing to hubValidations","text":"New code follow tidyverse style guide. can use styler package apply styles, please don’t restyle code nothing PR. use roxygen2, Markdown syntax, documentation. use testthat unit tests. Contributions test cases included easier accept.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Contributing to hubValidations","text":"Please note hubValidations project released Contributor Code Conduct. contributing project agree abide terms.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 Consortium Infectious Disease Modeling Hubs Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/custom-functions.html","id":"validations-yml-structure","dir":"Articles","previous_headings":"","what":"validations.yml structure","title":"Include custom validation functions","text":"validations.yml files follow nested structure described :","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/custom-functions.html","id":"default-configuration","dir":"Articles","previous_headings":"validations.yml structure","what":"Default configuration","title":"Include custom validation functions","text":"top validations.yml file, required default: top level property, contain default custom validation configurations executed regardless round ID. Within default configuration, individual checks can configured 3 validation functions run part validate_submission(), using following structure validation function: fn: name check function run, character string (required). pkg: name package namespace get check function. Must supplied function distributed part package. source: Path .R script containing function code sourced. relative, relative hub’s directory root. Must supplied function part package exists script. args: yaml dictionary key/value pairs arguments passed custom function. Values can yaml lists even executable R code (optional). Note validate_*() functions contain standard objects call environment passed automatically custom check function therefore need including args configuration. file_path: character string path file validated relative model-output directory. hub_path: character string path hub. round_id: character string round_id file_meta: named list containing round_id, team_abbr, model_abbr model_id details. tbl: tibble model output data validated. file_path: character string path file validated relative model-output directory. hub_path: character string path hub. round_id: character string round_id file_meta: named list containing round_id, team_abbr, model_abbr model_id details. round_id_col: character string name tbl column containing round_id information. file_path: character string path file validated relative model-output directory. hub_path: character string path hub. round_id: character string round_id file_meta: named list containing round_id, team_abbr, model_abbr model_id details. args configuration can used override objects caller environment well defaults. ’s example configuration single check (opt_check_tbl_horizon_timediff()) run part validate_model_data() validation function checks content model data submission files. configuration file relies default values arguments horizon_colname (\"horizon\") timediff (lubridate::weeks()). can use validations.yml args list override default values. ’s example includes executable r code value argument.","code":"default:     validate_model_data:       horizon_timediff:         fn: \"opt_check_tbl_horizon_timediff\"         pkg: \"hubValidations\"         args:           t0_colname: \"forecast_date\"           t1_colname: \"target_end_date\" default:     validate_model_data:       horizon_timediff:         fn: \"opt_check_tbl_horizon_timediff\"         pkg: \"hubValidations\"         args:           t0_colname: \"forecast_date\"           t1_colname: \"target_end_date\"           horizon_colname: \"horizons\"           timediff: !expr lubridate::weeks(2)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/custom-functions.html","id":"round-specific-configuration","dir":"Articles","previous_headings":"validations.yml structure","what":"Round specific configuration","title":"Include custom validation functions","text":"Additional round specific configurations can included validations.yml can add override default configurations. example, following validations.yml deploys opt_check_tbl_col_timediff() optional check, file validated submitted round round ID \"2023-08-15\", default col_timediff check configuration overridden 2023-08-15 configuration.","code":"default:     validate_model_data:       col_timediff:         fn: \"opt_check_tbl_col_timediff\"         pkg: \"hubValidations\"         args:           t0_colname: \"forecast_date\"           t1_colname: \"target_end_date\"  2023-08-15:     validate_model_data:       col_timediff:         fn: \"opt_check_tbl_col_timediff\"         pkg: \"hubValidations\"         args:           t0_colname: \"forecast_date\"           t1_colname: \"target_end_date\"           timediff: !expr lubridate::weeks(1)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/custom-functions.html","id":"available-optional-functions","dir":"Articles","previous_headings":"","what":"Available optional functions","title":"Include custom validation functions","text":"hubValidations includes number optional checks checks require administrator configuration run, detailed . detail function configuration parameters, consult function documentation.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/custom-functions.html","id":"for-deploying-through-validate_model_data","dir":"Articles","previous_headings":"Available optional functions","what":"For deploying through validate_model_data","title":"Include custom validation functions","text":"Details available optional checks checks requiring configuration validate_model_data().","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/custom-functions.html","id":"for-deploying-through-validate_model_metadata","dir":"Articles","previous_headings":"Available optional functions","what":"For deploying through validate_model_metadata","title":"Include custom validation functions","text":"Details available optional checks checks requiring configuration validate_model_metadata().","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/custom-functions.html","id":"managing-dependencies-of-custom-sourced-functions","dir":"Articles","previous_headings":"","what":"Managing dependencies of custom sourced functions","title":"Include custom validation functions","text":"TODO","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/hub-validations-class.html","id":"structure-of-hub_validations-object","dir":"Articles","previous_headings":"","what":"Structure of <hub_validations> object","title":"Structure of hub_validations class objects","text":"hub_validations object effectively list represents collected output series checks performed higher level validate_*() function. named element list contains result individual check inherits subclass <hub_check>. name element name check. Let’s examine example output model output file validation using validate_submission(). super class returned element depends status check: check succeeds, <message/check_success> condition class object returned. check skipped, <message/check_info> condition class object returned. Checks vary respect whether return <error/check_error> <warning/check_failure> condition class object check fails. Ultimately, cause overall validation fail two classes used primarily communicate severity failing check.","code":"hub_path <- system.file(\"testhubs/simple\", package = \"hubValidations\")  v <- validate_submission(hub_path,   file_path = \"team1-goodmodel/2022-10-08-team1-goodmodel.csv\" )  str(v, max.level = 1) #> List of 20 #>  $ valid_config      :List of 4 #>   ..- attr(*, \"class\")= chr [1:5] \"check_success\" \"hub_check\" \"rlang_message\" \"message\" ... #>  $ file_exists       :List of 4 #>   ..- attr(*, \"class\")= chr [1:5] \"check_success\" \"hub_check\" \"rlang_message\" \"message\" ... #>  $ file_name         :List of 4 #>   ..- attr(*, \"class\")= chr [1:5] \"check_success\" \"hub_check\" \"rlang_message\" \"message\" ... #>  $ file_location     :List of 4 #>   ..- attr(*, \"class\")= chr [1:5] \"check_success\" \"hub_check\" \"rlang_message\" \"message\" ... #>  $ round_id_valid    :List of 4 #>   ..- attr(*, \"class\")= chr [1:5] \"check_success\" \"hub_check\" \"rlang_message\" \"message\" ... #>  $ file_format       :List of 4 #>   ..- attr(*, \"class\")= chr [1:5] \"check_success\" \"hub_check\" \"rlang_message\" \"message\" ... #>  $ metadata_exists   :List of 4 #>   ..- attr(*, \"class\")= chr [1:5] \"check_success\" \"hub_check\" \"rlang_message\" \"message\" ... #>  $ file_read         :List of 4 #>   ..- attr(*, \"class\")= chr [1:5] \"check_success\" \"hub_check\" \"rlang_message\" \"message\" ... #>  $ valid_round_id_col:List of 4 #>   ..- attr(*, \"class\")= chr [1:5] \"check_success\" \"hub_check\" \"rlang_message\" \"message\" ... #>  $ unique_round_id   :List of 4 #>   ..- attr(*, \"class\")= chr [1:5] \"check_success\" \"hub_check\" \"rlang_message\" \"message\" ... #>  $ match_round_id    :List of 4 #>   ..- attr(*, \"class\")= chr [1:5] \"check_success\" \"hub_check\" \"rlang_message\" \"message\" ... #>  $ colnames          :List of 4 #>   ..- attr(*, \"class\")= chr [1:5] \"check_success\" \"hub_check\" \"rlang_message\" \"message\" ... #>  $ col_types         :List of 4 #>   ..- attr(*, \"class\")= chr [1:5] \"check_success\" \"hub_check\" \"rlang_message\" \"message\" ... #>  $ valid_vals        :List of 5 #>   ..- attr(*, \"class\")= chr [1:5] \"check_success\" \"hub_check\" \"rlang_message\" \"message\" ... #>  $ rows_unique       :List of 4 #>   ..- attr(*, \"class\")= chr [1:5] \"check_success\" \"hub_check\" \"rlang_message\" \"message\" ... #>  $ req_vals          :List of 5 #>   ..- attr(*, \"class\")= chr [1:5] \"check_success\" \"hub_check\" \"rlang_message\" \"message\" ... #>  $ value_col_valid   :List of 4 #>   ..- attr(*, \"class\")= chr [1:5] \"check_success\" \"hub_check\" \"rlang_message\" \"message\" ... #>  $ value_col_non_desc:List of 5 #>   ..- attr(*, \"class\")= chr [1:5] \"check_success\" \"hub_check\" \"rlang_message\" \"message\" ... #>  $ value_col_sum1    :List of 4 #>   ..- attr(*, \"class\")= chr [1:5] \"check_info\" \"hub_check\" \"rlang_message\" \"message\" ... #>  $ submission_time   :List of 4 #>   ..- attr(*, \"class\")= chr [1:5] \"check_failure\" \"hub_check\" \"rlang_warning\" \"warning\" ... #>  - attr(*, \"class\")= chr [1:2] \"hub_validations\" \"list\""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/hub-validations-class.html","id":"hub_validations-print-method","dir":"Articles","previous_headings":"","what":"hub_validations print method","title":"Structure of hub_validations class objects","text":"hub_validations objects print method displays result, file name message check: ✔ indicates check successful (<message/check_success> condition class object returned) ✖ indicates high severity check failed (<error/check_error> condition class object returned) ! indicates lower severity check failed (<warning/check_failure> condition class object returned) ℹ indicates check skipped (<message/check_info> condition class object returned)","code":"v #> ::notice ::✔ simple: All hub config files are valid.%0A✔ 2022-10-08-team1-goodmodel.csv: File exists at path%0A  model-output/team1-goodmodel/2022-10-08-team1-goodmodel.csv.%0A✔ 2022-10-08-team1-goodmodel.csv: File name \"2022-10-08-team1-goodmodel.csv\" is%0A  valid.%0A✔ 2022-10-08-team1-goodmodel.csv: File directory name matches `model_id`%0A  metadata in file name.%0A✔ 2022-10-08-team1-goodmodel.csv: `round_id` is valid.%0A✔ 2022-10-08-team1-goodmodel.csv: File is accepted hub format.%0A✔ 2022-10-08-team1-goodmodel.csv: Metadata file exists at path%0A  model-metadata/team1-goodmodel.yaml.%0A✔ 2022-10-08-team1-goodmodel.csv: File could be read successfully.%0A✔ 2022-10-08-team1-goodmodel.csv: `round_id_col` name is valid.%0A✔ 2022-10-08-team1-goodmodel.csv: `round_id` column \"origin_date\" contains a%0A  single, unique round ID value.%0A✔ 2022-10-08-team1-goodmodel.csv: All `round_id_col` \"origin_date\" values match%0A  submission `round_id` from file name.%0A✔ 2022-10-08-team1-goodmodel.csv: Column names are consistent with expected%0A  round task IDs and std column names.%0A✔ 2022-10-08-team1-goodmodel.csv: Column data types match hub schema.%0A✔ 2022-10-08-team1-goodmodel.csv: `tbl` contains valid values/value%0A  combinations.%0A✔ 2022-10-08-team1-goodmodel.csv: All combinations of task ID%0A  column/`output_type`/`output_type_id` values are unique.%0A✔ 2022-10-08-team1-goodmodel.csv: Required task ID/output type/output type ID%0A  combinations all present.%0A✔ 2022-10-08-team1-goodmodel.csv: Values in column `value` all valid with%0A  respect to modeling task config.%0A✔ 2022-10-08-team1-goodmodel.csv: Values in `value` column are non-decreasing%0A  as output_type_ids increase for all unique task ID value/output type%0A  combinations of quantile or cdf output types.%0Aℹ 2022-10-08-team1-goodmodel.csv: No pmf output types to check for sum of 1.%0A  Check skipped.%0A! 2022-10-08-team1-goodmodel.csv: Submission time must be within accepted%0A  submission window for round.  Current time 2024-03-06 12:36:21.079142 is%0A  outside window 2022-10-02 EDT--2022-10-09 23:59:59 EDT."},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/hub-validations-class.html","id":"structure-of-a-hub_check-object","dir":"Articles","previous_headings":"","what":"Structure of a <hub_check> object","title":"Structure of hub_validations class objects","text":"Let’s look closely structure first elements hub_validations object retuned validate_submission() <hub_check> objects contains following elements: message: result message containing details check. :: check performed, usually model output file name. call: function used perform check. use_cli_format: whether message formatted using cli format, almost always TRUE.","code":"v <- validate_submission(hub_path,   file_path = \"team1-goodmodel/2022-10-08-team1-goodmodel.csv\" )  str(head(v)) #> List of 6 #>  $ valid_config  :List of 4 #>   ..$ message       : chr \"All hub config files are valid. \\n \" #>   ..$ where         : chr \"simple\" #>   ..$ call          : chr \"check_config_hub_valid\" #>   ..$ use_cli_format: logi TRUE #>   ..- attr(*, \"class\")= chr [1:5] \"check_success\" \"hub_check\" \"rlang_message\" \"message\" ... #>  $ file_exists   :List of 4 #>   ..$ message       : chr \"File exists at path \\033[34mmodel-output/team1-goodmodel/2022-10-08-team1-goodmodel.csv\\033[39m. \\n \" #>   ..$ where         : chr \"team1-goodmodel/2022-10-08-team1-goodmodel.csv\" #>   ..$ call          : chr \"check_file_exists\" #>   ..$ use_cli_format: logi TRUE #>   ..- attr(*, \"class\")= chr [1:5] \"check_success\" \"hub_check\" \"rlang_message\" \"message\" ... #>  $ file_name     :List of 4 #>   ..$ message       : chr \"File name \\033[34m\\\"2022-10-08-team1-goodmodel.csv\\\"\\033[39m is valid. \\n \" #>   ..$ where         : chr \"team1-goodmodel/2022-10-08-team1-goodmodel.csv\" #>   ..$ call          : chr \"check_file_name\" #>   ..$ use_cli_format: logi TRUE #>   ..- attr(*, \"class\")= chr [1:5] \"check_success\" \"hub_check\" \"rlang_message\" \"message\" ... #>  $ file_location :List of 4 #>   ..$ message       : chr \"File directory name matches `model_id`\\n                                           metadata in file name. \\n \" #>   ..$ where         : chr \"team1-goodmodel/2022-10-08-team1-goodmodel.csv\" #>   ..$ call          : chr \"check_file_location\" #>   ..$ use_cli_format: logi TRUE #>   ..- attr(*, \"class\")= chr [1:5] \"check_success\" \"hub_check\" \"rlang_message\" \"message\" ... #>  $ round_id_valid:List of 4 #>   ..$ message       : chr \"`round_id` is valid. \\n \" #>   ..$ where         : chr \"team1-goodmodel/2022-10-08-team1-goodmodel.csv\" #>   ..$ call          : chr \"check_valid_round_id\" #>   ..$ use_cli_format: logi TRUE #>   ..- attr(*, \"class\")= chr [1:5] \"check_success\" \"hub_check\" \"rlang_message\" \"message\" ... #>  $ file_format   :List of 4 #>   ..$ message       : chr \"File is accepted hub format. \\n \" #>   ..$ where         : chr \"team1-goodmodel/2022-10-08-team1-goodmodel.csv\" #>   ..$ call          : chr \"check_file_format\" #>   ..$ use_cli_format: logi TRUE #>   ..- attr(*, \"class\")= chr [1:5] \"check_success\" \"hub_check\" \"rlang_message\" \"message\" ..."},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/hub-validations-class.html","id":"extra-information","dir":"Articles","previous_headings":"","what":"Extra information","title":"Structure of hub_validations class objects","text":"<hub_check> objects contain extra information failing check help identify affected rows submissions. example, <hub_check> object returned valid_vals check, checks columns model output file (excluding value column) contain valid combinations task ID / output type / output type ID values contains additional element called error_tbl, details invalid value combinations rows affected. access error_tbl output validate_submission() stored object v, use:","code":"v$valid_vals$error_tbl"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/validate-pr.html","id":"running-validation-checks-on-a-pull-request-with-validate_pr","dir":"Articles","previous_headings":"","what":"Running validation checks on a Pull Request with validate_pr()","title":"Validating Pull Requests on GitHub","text":"validate_pr() functions designed used validate team submissions Pull Requests GitHub. model output model metadata files individually validated using validate_submission() validate_model_metadata() respectively file according file type (See end article details standard checks performed file. information deploying optional custom functions please check article including custom functions (vignette(\"custom-functions\"))). part checks, however, hub config files also validated. files included PR ignored flagged message.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/validate-pr.html","id":"deploying-validate_pr-though-a-github-action-workflow","dir":"Articles","previous_headings":"Running validation checks on a Pull Request with validate_pr()","what":"Deploying validate_pr() though a GitHub Action workflow","title":"Validating Pull Requests on GitHub","text":"common way deploy validate_pr() GitHub Action triggers pull request containing changes model output model metadata files opened. hubverse maintains validate-submission.yaml GitHub Action workflow template deploying validate_pr(). latest release workflow can added hub’s GitHub Action workflows using hubCI package: pertinent section workflow : validate_pr() called contents current Pull Request, results (S3 <hub_validations> class object) stored v check_for_errors() used signal whether overall validations passed failed summarise validation failures. ’s example workflow looks like GitHub:","code":"hubCI::use_hub_github_action(\"validate-submission\") - name: Run validations         env:           PR_NUMBER: ${{ github.event.number }}         run: |           library(\"hubValidations\")           v <- hubValidations::validate_pr(               gh_repo = Sys.getenv(\"GITHUB_REPOSITORY\"),               pr_number = Sys.getenv(\"PR_NUMBER\"),               skip_submit_window_check = FALSE           )           hubValidations::check_for_errors(v, verbose = TRUE)         shell: Rscript {0}"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/validate-pr.html","id":"skipping-submission-window-checks","dir":"Articles","previous_headings":"Running validation checks on a Pull Request with validate_pr()","what":"Skipping submission window checks","title":"Validating Pull Requests on GitHub","text":"hubs require model output files given round submitted within submission window defined \"submission_due\" property tasks.json hub config file. validate_pr() includes submission window checks model output files returns <warning/check_failure> condition class object file submitted outside accepted submission window. disable submission window checks, argument skip_submit_window_check can set TRUE.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/validate-pr.html","id":"configuring-file-modificationdeletionrenaming-checks","dir":"Articles","previous_headings":"Running validation checks on a Pull Request with validate_pr()","what":"Configuring file modification/deletion/renaming checks","title":"Validating Pull Requests on GitHub","text":"hubs, modification, renaming deletion previously submitted model output files deletion/renaming previously submitted model metadata files desirable without justification. therefore trigger validation failure notify hub maintainers files affected. time, hubs prefer allow modifications model output files within allowed submission window. Reflecting preferences, default, validate_pr() checks modification, renaming deletion previously submitted model output files deletion/renaming previously submitted model metadata files appends <error/check_error> class objects output file modification/deletion/renaming detected. however allow modifications model output files within allowed submission window. settings can modified required though use arguments file_modification_check allow_submit_window_mods. file_modification_check controls whether modification/deletion checks performed, returned modifications/deletions detected accepts one following values: \"error\": Appends <error/check_error> condition class object applicable modified/deleted file. result validation workflow failure. \"warning\": Appends <warning/check_warning> condition class object applicable modified/deleted file. result validation workflow failure. \"message\": Appends <message/check_info> condition class object applicable modified/deleted file. result validation workflow failure. \"none\": modification/deletion checks performed. allow_submit_window_mods controls whether modifications/deletions model output files allowed within submission windows. set TRUE default can set FALSE modifications/deletions allowed, regardless timing. ignored checking model metadata files well file_modification_check set \"none\".","code":"temp_hub <- fs::path(tempdir(), \"mod_del_hub\") gert::git_clone(   url = \"https://github.com/Infectious-Disease-Modeling-Hubs/ci-testhub-simple\",   path = temp_hub,   branch = \"test-mod-del\" ) v <- validate_pr(   hub_path = temp_hub,   gh_repo = \"Infectious-Disease-Modeling-Hubs/ci-testhub-simple\",   pr_number = 6,   skip_submit_window_check = TRUE ) #> ℹ PR contains commits to additional files which have not been checked: #> • \".github/workflows/validate_submission.yaml\" #> • \"README.md\" #> • \"model-metadata/README.md\" #> • \"model-output/hub-baseline/README.txt\" #> • \"random-file.txt\"  v #> ::notice ::✔ mod_del_hub: All hub config files are valid.%0A✖ 2022-10-08-hub-baseline.csv: Previously submitted model output files must not%0A  be modified.  model-output/hub-baseline/2022-10-08-hub-baseline.csv modified.%0A✖ 2022-10-15-team1-goodmodel.csv: Previously submitted model output files must%0A  not be removed.  model-output/team1-goodmodel/2022-10-15-team1-goodmodel.csv%0A  removed.%0A✖ team1-goodmodel.yaml: Previously submitted model metadata files must not be%0A  removed.  model-metadata/team1-goodmodel.yaml removed.%0A✔ 2022-10-08-hub-baseline.csv: File exists at path%0A  model-output/hub-baseline/2022-10-08-hub-baseline.csv.%0A✔ 2022-10-08-hub-baseline.csv: File name \"2022-10-08-hub-baseline.csv\" is%0A  valid.%0A✔ 2022-10-08-hub-baseline.csv: File directory name matches `model_id` metadata%0A  in file name.%0A✔ 2022-10-08-hub-baseline.csv: `round_id` is valid.%0A✔ 2022-10-08-hub-baseline.csv: File is accepted hub format.%0A✔ 2022-10-08-hub-baseline.csv: Metadata file exists at path%0A  model-metadata/hub-baseline.yml.%0A✔ 2022-10-08-hub-baseline.csv: File could be read successfully.%0A✔ 2022-10-08-hub-baseline.csv: `round_id_col` name is valid.%0A✔ 2022-10-08-hub-baseline.csv: `round_id` column \"origin_date\" contains a%0A  single, unique round ID value.%0A✔ 2022-10-08-hub-baseline.csv: All `round_id_col` \"origin_date\" values match%0A  submission `round_id` from file name.%0A✔ 2022-10-08-hub-baseline.csv: Column names are consistent with expected round%0A  task IDs and std column names.%0A✔ 2022-10-08-hub-baseline.csv: Column data types match hub schema.%0A✔ 2022-10-08-hub-baseline.csv: `tbl` contains valid values/value combinations.%0A✔ 2022-10-08-hub-baseline.csv: All combinations of task ID%0A  column/`output_type`/`output_type_id` values are unique.%0A✔ 2022-10-08-hub-baseline.csv: Required task ID/output type/output type ID%0A  combinations all present.%0A✔ 2022-10-08-hub-baseline.csv: Values in column `value` all valid with respect%0A  to modeling task config.%0A✔ 2022-10-08-hub-baseline.csv: Values in `value` column are non-decreasing as%0A  output_type_ids increase for all unique task ID value/output type%0A  combinations of quantile or cdf output types.%0Aℹ 2022-10-08-hub-baseline.csv: No pmf output types to check for sum of 1. Check%0A  skipped.%0A✔ 2022-10-22-team1-goodmodel.csv: File exists at path%0A  model-output/team1-goodmodel/2022-10-22-team1-goodmodel.csv.%0A✔ 2022-10-22-team1-goodmodel.csv: File name \"2022-10-22-team1-goodmodel.csv\" is%0A  valid.%0A✔ 2022-10-22-team1-goodmodel.csv: File directory name matches `model_id`%0A  metadata in file name.%0A✔ 2022-10-22-team1-goodmodel.csv: `round_id` is valid.%0A✔ 2022-10-22-team1-goodmodel.csv: File is accepted hub format.%0A✖ 2022-10-22-team1-goodmodel.csv: Metadata file does not exist at path%0A  model-metadata/team1-goodmodel.yml or model-metadata/team1-goodmodel.yaml."},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/validate-pr.html","id":"warning","dir":"Articles","previous_headings":"Running validation checks on a Pull Request with validate_pr() > Configuring file modification/deletion/renaming checks","what":"Warning","title":"Validating Pull Requests on GitHub","text":"Note establish relative submission windows performing modification/deletion checks allow_submit_window_mods TRUE, reference date taken round_id extracted file path. extract dates columns deleted files. hub submission window reference dates match round IDs file paths, currently allow_submit_window_mods work correctly best set FALSE. relates hubs/rounds submission windows determined relative reference date explicit submission window start end dates provided config. details submission window config see Setting \"submission_due\" hubverse hubDocs.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/validate-pr.html","id":"checking-for-validation-failures-with-check_for_errors","dir":"Articles","previous_headings":"","what":"Checking for validation failures with check_for_errors()","title":"Validating Pull Requests on GitHub","text":"check_for_errors() used inspect hub_validations class object, determine whether overall validations passed failed summarise detected errors/failures.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/validate-pr.html","id":"validation-failure","dir":"Articles","previous_headings":"Checking for validation failures with check_for_errors()","what":"Validation failure","title":"Validating Pull Requests on GitHub","text":"elements hub_validations object contain <error/check_error>, <warning/check_warning> <error/check_exec_error> condition class objects, function throws error prints messages failing checks.","code":"temp_hub <- fs::path(tempdir(), \"invalid_sb_hub\") gert::git_clone(   url = \"https://github.com/Infectious-Disease-Modeling-Hubs/ci-testhub-simple\",   path = temp_hub,   branch = \"pr-missing-taskid\" )  v_fail <- validate_pr(   hub_path = temp_hub,   gh_repo = \"Infectious-Disease-Modeling-Hubs/ci-testhub-simple\",   pr_number = 5,   skip_submit_window_check = TRUE )  check_for_errors(v_fail) #> ::notice ::✖ 2022-10-22-hub-baseline.parquet: Column names must be consistent with%0A  expected round task IDs and std column names.  Expected column \"age_group\"%0A  not present in file. #> Error in `check_for_errors()`: #> !  #> The validation checks produced some failures/errors reported above."},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/validate-pr.html","id":"validation-success","dir":"Articles","previous_headings":"Checking for validation failures with check_for_errors()","what":"Validation success","title":"Validating Pull Requests on GitHub","text":"validations checks pass, check_for_errors() returns TRUE silently prints:","code":"✔ All validation checks have been successful. temp_hub <- fs::path(tempdir(), \"valid_sb_hub\") gert::git_clone(   url = \"https://github.com/Infectious-Disease-Modeling-Hubs/ci-testhub-simple\",   path = temp_hub,   branch = \"pr-valid\" )  v_pass <- validate_pr(   hub_path = temp_hub,   gh_repo = \"Infectious-Disease-Modeling-Hubs/ci-testhub-simple\",   pr_number = 4,   skip_submit_window_check = TRUE )  check_for_errors(v_pass) #> ✔ All validation checks have been successful."},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/validate-pr.html","id":"verbose-output","dir":"Articles","previous_headings":"Checking for validation failures with check_for_errors()","what":"Verbose output","title":"Validating Pull Requests on GitHub","text":"printing results checks preferred instead just summarising results checks failed, argument verbose can set TRUE.","code":"check_for_errors(v_fail, verbose = TRUE) #>  #> ── Individual check results ── #>  #> ::notice ::✔ invalid_sb_hub: All hub config files are valid.%0A✔ 2022-10-22-hub-baseline.parquet: File exists at path%0A  model-output/hub-baseline/2022-10-22-hub-baseline.parquet.%0A✔ 2022-10-22-hub-baseline.parquet: File name \"2022-10-22-hub-baseline.parquet\"%0A  is valid.%0A✔ 2022-10-22-hub-baseline.parquet: File directory name matches `model_id`%0A  metadata in file name.%0A✔ 2022-10-22-hub-baseline.parquet: `round_id` is valid.%0A✔ 2022-10-22-hub-baseline.parquet: File is accepted hub format.%0A✔ 2022-10-22-hub-baseline.parquet: Metadata file exists at path%0A  model-metadata/hub-baseline.yml.%0A✔ 2022-10-22-hub-baseline.parquet: File could be read successfully.%0A✔ 2022-10-22-hub-baseline.parquet: `round_id_col` name is valid.%0A✔ 2022-10-22-hub-baseline.parquet: `round_id` column \"origin_date\" contains a%0A  single, unique round ID value.%0A✔ 2022-10-22-hub-baseline.parquet: All `round_id_col` \"origin_date\" values%0A  match submission `round_id` from file name.%0A✖ 2022-10-22-hub-baseline.parquet: Column names must be consistent with%0A  expected round task IDs and std column names.  Expected column \"age_group\"%0A  not present in file. #>  #> ── Overall validation result ─────────────────────────────────────────────────── #> ::notice ::✖ 2022-10-22-hub-baseline.parquet: Column names must be consistent with%0A  expected round task IDs and std column names.  Expected column \"age_group\"%0A  not present in file. #> Error in `check_for_errors()`: #> !  #> The validation checks produced some failures/errors reported above.   check_for_errors(v_pass, verbose = TRUE) #>  #> ── Individual check results ── #>  #> ::notice ::✔ valid_sb_hub: All hub config files are valid.%0A✔ 2022-10-22-team1-goodmodel.csv: File exists at path%0A  model-output/team1-goodmodel/2022-10-22-team1-goodmodel.csv.%0A✔ 2022-10-22-team1-goodmodel.csv: File name \"2022-10-22-team1-goodmodel.csv\" is%0A  valid.%0A✔ 2022-10-22-team1-goodmodel.csv: File directory name matches `model_id`%0A  metadata in file name.%0A✔ 2022-10-22-team1-goodmodel.csv: `round_id` is valid.%0A✔ 2022-10-22-team1-goodmodel.csv: File is accepted hub format.%0A✔ 2022-10-22-team1-goodmodel.csv: Metadata file exists at path%0A  model-metadata/team1-goodmodel.yaml.%0A✔ 2022-10-22-team1-goodmodel.csv: File could be read successfully.%0A✔ 2022-10-22-team1-goodmodel.csv: `round_id_col` name is valid.%0A✔ 2022-10-22-team1-goodmodel.csv: `round_id` column \"origin_date\" contains a%0A  single, unique round ID value.%0A✔ 2022-10-22-team1-goodmodel.csv: All `round_id_col` \"origin_date\" values match%0A  submission `round_id` from file name.%0A✔ 2022-10-22-team1-goodmodel.csv: Column names are consistent with expected%0A  round task IDs and std column names.%0A✔ 2022-10-22-team1-goodmodel.csv: Column data types match hub schema.%0A✔ 2022-10-22-team1-goodmodel.csv: `tbl` contains valid values/value%0A  combinations.%0A✔ 2022-10-22-team1-goodmodel.csv: All combinations of task ID%0A  column/`output_type`/`output_type_id` values are unique.%0A✔ 2022-10-22-team1-goodmodel.csv: Required task ID/output type/output type ID%0A  combinations all present.%0A✔ 2022-10-22-team1-goodmodel.csv: Values in column `value` all valid with%0A  respect to modeling task config.%0A✔ 2022-10-22-team1-goodmodel.csv: Values in `value` column are non-decreasing%0A  as output_type_ids increase for all unique task ID value/output type%0A  combinations of quantile or cdf output types.%0Aℹ 2022-10-22-team1-goodmodel.csv: No pmf output types to check for sum of 1.%0A  Check skipped. #>  #> ── Overall validation result ─────────────────────────────────────────────────── #> ✔ All validation checks have been successful."},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/validate-pr.html","id":"validate_pr-check-details","dir":"Articles","previous_headings":"","what":"validate_pr check details","title":"Validating Pull Requests on GitHub","text":"details structure <hub_validations> objects, including access information specific checks, see vignette(\"hub-validations-class\").","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/validate-pr.html","id":"checks-on-model-output-files","dir":"Articles","previous_headings":"validate_pr check details","what":"Checks on model output files","title":"Validating Pull Requests on GitHub","text":"Details checks performed validate_submission() model output files.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/validate-pr.html","id":"checks-on-model-metadata-files","dir":"Articles","previous_headings":"validate_pr check details","what":"Checks on model metadata files","title":"Validating Pull Requests on GitHub","text":"Details checks performed validate_model_metadata() model metadata files.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/validate-pr.html","id":"custom-checks","dir":"Articles","previous_headings":"validate_pr check details > Checks on model metadata files","what":"Custom checks","title":"Validating Pull Requests on GitHub","text":"standard checks discussed checks deployed default validate_pr function. information deploying optional custom functions please check article including custom functions (vignette(\"custom-functions\")).","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/validate-submission.html","id":"validating-model-output-files-with-validate_submission","dir":"Articles","previous_headings":"","what":"Validating model output files with validate_submission()","title":"Validating submissions locally","text":"hubs automated validation systems set check contributions submission, hubValidations also provides functionality validating files locally submitting . , submitting teams can use validate_submission() validate model output files prior submitting. function takes relative path, relative model output directory, argument file_path, performs series standard validation checks returns results form hub_validations S3 class object. details structure <hub_validations> objects, including access information individual checks, see vignette(\"hub-validations-class\").","code":"hub_path <- system.file(\"testhubs/simple\", package = \"hubValidations\")  validate_submission(hub_path,   file_path = \"team1-goodmodel/2022-10-08-team1-goodmodel.csv\" ) #> ::notice ::✔ simple: All hub config files are valid.%0A✔ 2022-10-08-team1-goodmodel.csv: File exists at path%0A  model-output/team1-goodmodel/2022-10-08-team1-goodmodel.csv.%0A✔ 2022-10-08-team1-goodmodel.csv: File name \"2022-10-08-team1-goodmodel.csv\" is%0A  valid.%0A✔ 2022-10-08-team1-goodmodel.csv: File directory name matches `model_id`%0A  metadata in file name.%0A✔ 2022-10-08-team1-goodmodel.csv: `round_id` is valid.%0A✔ 2022-10-08-team1-goodmodel.csv: File is accepted hub format.%0A✔ 2022-10-08-team1-goodmodel.csv: Metadata file exists at path%0A  model-metadata/team1-goodmodel.yaml.%0A✔ 2022-10-08-team1-goodmodel.csv: File could be read successfully.%0A✔ 2022-10-08-team1-goodmodel.csv: `round_id_col` name is valid.%0A✔ 2022-10-08-team1-goodmodel.csv: `round_id` column \"origin_date\" contains a%0A  single, unique round ID value.%0A✔ 2022-10-08-team1-goodmodel.csv: All `round_id_col` \"origin_date\" values match%0A  submission `round_id` from file name.%0A✔ 2022-10-08-team1-goodmodel.csv: Column names are consistent with expected%0A  round task IDs and std column names.%0A✔ 2022-10-08-team1-goodmodel.csv: Column data types match hub schema.%0A✔ 2022-10-08-team1-goodmodel.csv: `tbl` contains valid values/value%0A  combinations.%0A✔ 2022-10-08-team1-goodmodel.csv: All combinations of task ID%0A  column/`output_type`/`output_type_id` values are unique.%0A✔ 2022-10-08-team1-goodmodel.csv: Required task ID/output type/output type ID%0A  combinations all present.%0A✔ 2022-10-08-team1-goodmodel.csv: Values in column `value` all valid with%0A  respect to modeling task config.%0A✔ 2022-10-08-team1-goodmodel.csv: Values in `value` column are non-decreasing%0A  as output_type_ids increase for all unique task ID value/output type%0A  combinations of quantile or cdf output types.%0Aℹ 2022-10-08-team1-goodmodel.csv: No pmf output types to check for sum of 1.%0A  Check skipped.%0A! 2022-10-08-team1-goodmodel.csv: Submission time must be within accepted%0A  submission window for round.  Current time 2024-03-06 12:36:35.314206 is%0A  outside window 2022-10-02 EDT--2022-10-09 23:59:59 EDT."},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/validate-submission.html","id":"validation-early-return","dir":"Articles","previous_headings":"Validating model output files with validate_submission()","what":"Validation early return","title":"Validating submissions locally","text":"checks critical downstream checks cause validation stop return results checks including critical check failed early. generally return <error/check_error> condition class object. problems identified need resolved function re-run validation proceed .","code":"hub_path <- system.file(\"testhubs/simple\", package = \"hubValidations\")  validate_submission(hub_path,   file_path = \"team1-goodmodel/2022-10-15-hub-baseline.csv\" ) #> ::notice ::✔ simple: All hub config files are valid.%0A✔ 2022-10-15-hub-baseline.csv: File exists at path%0A  model-output/team1-goodmodel/2022-10-15-hub-baseline.csv.%0A✔ 2022-10-15-hub-baseline.csv: File name \"2022-10-15-hub-baseline.csv\" is%0A  valid.%0A! 2022-10-15-hub-baseline.csv: File directory name must match `model_id`%0A  metadata in file name.  File should be submitted to directory \"hub-baseline\"%0A  not \"team1-goodmodel\"%0A✔ 2022-10-15-hub-baseline.csv: `round_id` is valid.%0A✔ 2022-10-15-hub-baseline.csv: File is accepted hub format.%0A✔ 2022-10-15-hub-baseline.csv: Metadata file exists at path%0A  model-metadata/hub-baseline.yml.%0A✔ 2022-10-15-hub-baseline.csv: File could be read successfully.%0A✔ 2022-10-15-hub-baseline.csv: `round_id_col` name is valid.%0A✔ 2022-10-15-hub-baseline.csv: `round_id` column \"origin_date\" contains a%0A  single, unique round ID value.%0A✖ 2022-10-15-hub-baseline.csv: All `round_id_col` \"origin_date\" values must%0A  match submission `round_id` from file name.  `round_id` value 2022-10-08 does%0A  not match submission `round_id` \"2022-10-15\"%0A! 2022-10-15-hub-baseline.csv: Submission time must be within accepted%0A  submission window for round.  Current time 2024-03-06 12:36:36.31187 is%0A  outside window 2022-10-02 EDT--2022-10-09 23:59:59 EDT."},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/validate-submission.html","id":"execution-errors","dir":"Articles","previous_headings":"Validating model output files with validate_submission()","what":"Execution Errors","title":"Validating submissions locally","text":"execution error occurs checks, <error/check_exec_error> returned instead. validation purposes, results downstream effects <error/check_error> object.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/validate-submission.html","id":"checking-for-errors-with-check_for_errors","dir":"Articles","previous_headings":"Validating model output files with validate_submission()","what":"Checking for errors with check_for_errors()","title":"Validating submissions locally","text":"can check whether file overall pass validation checks passing hub_validations object check_for_errors(). validation fails, error thrown failing checks summarised.","code":"validate_submission(hub_path,   file_path = \"team1-goodmodel/2022-10-08-team1-goodmodel.csv\" ) %>%   check_for_errors() #> ::notice ::! 2022-10-08-team1-goodmodel.csv: Submission time must be within accepted%0A  submission window for round.  Current time 2024-03-06 12:36:37.035898 is%0A  outside window 2022-10-02 EDT--2022-10-09 23:59:59 EDT. #> Error in `check_for_errors()`: #> !  #> The validation checks produced some failures/errors reported above."},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/validate-submission.html","id":"skipping-the-submission-window-check","dir":"Articles","previous_headings":"Validating model output files with validate_submission()","what":"Skipping the submission window check","title":"Validating submissions locally","text":"preparing submission prior submission window opening, might want skip submission window check. can setting argument skip_submit_window_check TRUE. results previous valid file (except failing validation window check) now passing overall validation.","code":"validate_submission(hub_path,   file_path = \"team1-goodmodel/2022-10-08-team1-goodmodel.csv\",   skip_submit_window_check = TRUE ) %>%   check_for_errors() #> ✔ All validation checks have been successful."},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/validate-submission.html","id":"validate_submission-check-details","dir":"Articles","previous_headings":"Validating model output files with validate_submission()","what":"validate_submission check details","title":"Validating submissions locally","text":"Details checks performed validate_submission()","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/validate-submission.html","id":"validating-model-metadata-files-with-validate_model_metadata","dir":"Articles","previous_headings":"","what":"Validating model metadata files with validate_model_metadata()","title":"Validating submissions locally","text":"want check model metadata file submitting, can similarly use function validate_model_metadata(). function takes model metadata file name argument file_path, performs series validation checks returns results form hub_validations S3 class object. details structure <hub_validations> objects, including access information individual checks, see vignette(\"hub-validations-class\").","code":"validate_model_metadata(hub_path,   file_path = \"hub-baseline.yml\" ) #> ::notice ::✔ model-metadata-schema.json: File exists at path%0A  hub-config/model-metadata-schema.json.%0A✔ hub-baseline.yml: File exists at path model-metadata/hub-baseline.yml.%0A✔ hub-baseline.yml: Metadata file extension is \"yml\" or \"yaml\".%0A✔ hub-baseline.yml: Metadata file directory name matches \"model-metadata\".%0A✔ hub-baseline.yml: Metadata file contents are consistent with schema%0A  specifications.%0A✔ hub-baseline.yml: Metadata file name matches the `model_id` specified within%0A  the metadata file.  validate_model_metadata(hub_path,   file_path = \"team1-goodmodel.yaml\" ) #> ::notice ::✔ model-metadata-schema.json: File exists at path%0A  hub-config/model-metadata-schema.json.%0A✔ team1-goodmodel.yaml: File exists at path%0A  model-metadata/team1-goodmodel.yaml.%0A✔ team1-goodmodel.yaml: Metadata file extension is \"yml\" or \"yaml\".%0A✔ team1-goodmodel.yaml: Metadata file directory name matches \"model-metadata\".%0A✖ team1-goodmodel.yaml: Metadata file contents must be consistent with schema%0A  specifications.  - must have required property 'model_details' . - must NOT%0A  have additional properties; saw unexpected property 'models_details'. - must%0A  NOT have additional properties; saw unexpected property%0A  'ensemble_of_hub_models\"'. - /include_ensemble must be boolean ."},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/validate-submission.html","id":"validate_model_metadata-check-details","dir":"Articles","previous_headings":"Validating model metadata files with validate_model_metadata()","what":"validate_model_metadata check details","title":"Validating submissions locally","text":"Details checks performed validate_model_metadata()","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/articles/validate-submission.html","id":"custom-checks","dir":"Articles","previous_headings":"Validating model metadata files with validate_model_metadata() > validate_model_metadata check details","what":"Custom checks","title":"Validating submissions locally","text":"standard checks discussed checks deployed default validate_submission validate_model_metadata functions. information deploying optional/custom functions functions require configuration please check article including custom functions (vignette(\"custom-functions\")).","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Anna Krystalli. Author, maintainer. Evan Ray. Author. Hugo Gruson. Author. Consortium Infectious Disease Modeling Hubs. Copyright holder.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Krystalli , Ray E, Gruson H (2024). hubValidations: Testing framework hubverse hub validations. R package version 0.0.1,  https://infectious-disease-modeling-hubs.github.io/hubValidations/, https://github.com/Infectious-Disease-Modeling-Hubs/hubValidations.","code":"@Manual{,   title = {hubValidations: Testing framework for hubverse hub validations},   author = {Anna Krystalli and Evan Ray and Hugo Gruson},   year = {2024},   note = {R package version 0.0.1,  https://infectious-disease-modeling-hubs.github.io/hubValidations/},   url = {https://github.com/Infectious-Disease-Modeling-Hubs/hubValidations}, }"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/index.html","id":"hubvalidations-","dir":"","previous_headings":"","what":"Testing framework for hubverse hub validations","title":"Testing framework for hubverse hub validations","text":"goal hubValidations provide testing framework performing hubverse hub validations.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Testing framework for hubverse hub validations","text":"can install development version hubValidations like :","code":"remotes::install_github(\"Infectious-Disease-Modeling-Hubs/hubValidations\")"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/index.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Testing framework for hubverse hub validations","text":"Please note hubValidations package released Contributor Code Conduct. contributing project, agree abide terms.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"Testing framework for hubverse hub validations","text":"Interested contributing back open-source Hubverse project? Learn get involved Hubverse Community contribute hubValidations.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/index.html","id":"contributing-new-check-functions","dir":"","previous_headings":"Contributing","what":"Contributing new check functions","title":"Testing framework for hubverse hub validations","text":"submitting new check function, please ensure update inst/check_table.csv metadata check. See contributing guidelines details.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/capture_check_cnd.html","id":null,"dir":"Reference","previous_headings":"","what":"Capture a condition of the result of validation check. — capture_check_cnd","title":"Capture a condition of the result of validation check. — capture_check_cnd","text":"Capture condition result validation check.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/capture_check_cnd.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Capture a condition of the result of validation check. — capture_check_cnd","text":"","code":"capture_check_cnd(   check,   file_path,   msg_subject,   msg_attribute,   msg_verbs = c(\"is\", \"must be\"),   error = FALSE,   details = NULL,   ... )"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/capture_check_cnd.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Capture a condition of the result of validation check. — capture_check_cnd","text":"check logical, result validation check. check FALSE, validation failed. check TRUE, validation succeeded. file_path character string. Path file validated. Must relative path hub's model-output (equivalent) directory. msg_subject character string. subject validation. msg_attribute character string. attribute subject validated. msg_verbs character vector length 2. verbs describing state attribute relation validation subject. first element describes state validation succeeds, second element, validation fails. error logical. case validation failure, whether function return object class <error/check_error> (TRUE) <warning/check_failure> (FALSE, default). details details appended output message. ... <dynamic> Named data fields stored inside condition object.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/capture_check_cnd.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Capture a condition of the result of validation check. — capture_check_cnd","text":"Depending whether validation succeeded value error argument, one : <message/check_success> condition class object. <warning/check_failure> condition class object. <error/check_error> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/capture_check_cnd.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Capture a condition of the result of validation check. — capture_check_cnd","text":"Arguments msg_subject, msg_attribute, msg_verbs details accept text can interpreted formatted cli::format_inline().","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/capture_check_cnd.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Capture a condition of the result of validation check. — capture_check_cnd","text":"","code":"capture_check_cnd(   check = TRUE, file_path = \"test/file.csv\",   msg_subject = \"{.var round_id}\", msg_attribute = \"valid.\", error = FALSE ) #> <message/check_success> #> Message: #> `round_id` is valid. capture_check_cnd(   check = FALSE, file_path = \"test/file.csv\",   msg_subject = \"{.var round_id}\", msg_attribute = \"valid.\", error = FALSE,   details = \"Must be one of 'A' or 'B', not 'C'\" ) #> <warning/check_failure> #> Warning: #> `round_id` must be valid.  Must be one of 'A' or 'B', not 'C' capture_check_cnd(   check = FALSE, file_path = \"test/file.csv\",   msg_subject = \"{.var round_id}\", msg_attribute = \"valid.\", error = TRUE,   details = \"Must be one of {.val {c('A', 'B')}}, not {.val C}\" ) #> <error/check_error> #> Error: #> ! `round_id` must be valid.  Must be one of \"A\" and \"B\", not \"C\""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/capture_check_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Capture a simple info message condition — capture_check_info","title":"Capture a simple info message condition — capture_check_info","text":"Capture simple info message condition. Useful communicating check ignored skipped.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/capture_check_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Capture a simple info message condition — capture_check_info","text":"","code":"capture_check_info(file_path, msg)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/capture_check_info.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Capture a simple info message condition — capture_check_info","text":"file_path character string. Path file validated. Must relative path hub's model-output (equivalent) directory. msg Character string. Accepts text can interpreted formatted cli::format_inline().","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/capture_check_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Capture a simple info message condition — capture_check_info","text":"<message/check_info> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/capture_exec_error.html","id":null,"dir":"Reference","previous_headings":"","what":"Capture an execution error condition — capture_exec_error","title":"Capture an execution error condition — capture_exec_error","text":"Capture execution error condition. Useful communicating check execution failed. Usually used conjunction try.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/capture_exec_error.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Capture an execution error condition — capture_exec_error","text":"","code":"capture_exec_error(file_path, msg, call = NULL)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/capture_exec_error.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Capture an execution error condition — capture_exec_error","text":"file_path character string. Path file validated. Must relative path hub's model-output (equivalent) directory. msg Character string. call Character string. Name parent call failed execute. NULL (default), caller's call name captured.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/capture_exec_error.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Capture an execution error condition — capture_exec_error","text":"<error/check_exec_error> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/capture_exec_warning.html","id":null,"dir":"Reference","previous_headings":"","what":"Capture an execution warning condition — capture_exec_warning","title":"Capture an execution warning condition — capture_exec_warning","text":"Capture execution warning condition. Useful communicating check execution failed. Usually used conjunction try.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/capture_exec_warning.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Capture an execution warning condition — capture_exec_warning","text":"","code":"capture_exec_warning(file_path, msg, call = NULL)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/capture_exec_warning.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Capture an execution warning condition — capture_exec_warning","text":"file_path character string. Path file validated. Must relative path hub's model-output (equivalent) directory. msg Character string. call Character string. Name parent call failed execute. NULL (default), caller's call name captured.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/capture_exec_warning.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Capture an execution warning condition — capture_exec_warning","text":"<warning/check_exec_warn> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_config_hub_valid.html","id":null,"dir":"Reference","previous_headings":"","what":"Check hub correctly configured — check_config_hub_valid","title":"Check hub correctly configured — check_config_hub_valid","text":"Checks admin tasks configuration files directory hub-config valid.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_config_hub_valid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check hub correctly configured — check_config_hub_valid","text":"","code":"check_config_hub_valid(hub_path)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_config_hub_valid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check hub correctly configured — check_config_hub_valid","text":"hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_config_hub_valid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check hub correctly configured — check_config_hub_valid","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <error/check_error> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_file_exists.html","id":null,"dir":"Reference","previous_headings":"","what":"Check file exists at the file path specified — check_file_exists","title":"Check file exists at the file path specified — check_file_exists","text":"Check file exists file path specified","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_file_exists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check file exists at the file path specified — check_file_exists","text":"","code":"check_file_exists(   file_path,   hub_path = \".\",   subdir = c(\"model-output\", \"model-metadata\", \"hub-config\") )"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_file_exists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check file exists at the file path specified — check_file_exists","text":"file_path character string. Path file validated relative hub's model-output directory. hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory. subdir subdirectory within hub","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_file_exists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check file exists at the file path specified — check_file_exists","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <error/check_error> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_file_format.html","id":null,"dir":"Reference","previous_headings":"","what":"Check file format is accepted by hub. — check_file_format","title":"Check file format is accepted by hub. — check_file_format","text":"Check file format accepted hub.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_file_format.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check file format is accepted by hub. — check_file_format","text":"","code":"check_file_format(file_path, hub_path, round_id)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_file_format.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check file format is accepted by hub. — check_file_format","text":"file_path character string. Path file validated relative hub's model-output directory. hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory. round_id character string. round identifier.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_file_format.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check file format is accepted by hub. — check_file_format","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <error/check_error> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_file_location.html","id":null,"dir":"Reference","previous_headings":"","what":"Check file is being submitted to the correct folder — check_file_location","title":"Check file is being submitted to the correct folder — check_file_location","text":"Checks model_id metadata file name matches directory name file submitted .","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_file_location.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check file is being submitted to the correct folder — check_file_location","text":"","code":"check_file_location(file_path)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_file_location.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check file is being submitted to the correct folder — check_file_location","text":"file_path character string. Path file validated relative hub's model-output directory.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_file_location.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check file is being submitted to the correct folder — check_file_location","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <warning/check_failure> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_file_name.html","id":null,"dir":"Reference","previous_headings":"","what":"Check a model output file name can be correctly parsed. — check_file_name","title":"Check a model output file name can be correctly parsed. — check_file_name","text":"Check model output file name can correctly parsed.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_file_name.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check a model output file name can be correctly parsed. — check_file_name","text":"","code":"check_file_name(file_path)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_file_name.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check a model output file name can be correctly parsed. — check_file_name","text":"file_path character string. Path file validated relative hub's model-output directory.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_file_name.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check a model output file name can be correctly parsed. — check_file_name","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <error/check_error> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_file_read.html","id":null,"dir":"Reference","previous_headings":"","what":"Check file can be read successfully — check_file_read","title":"Check file can be read successfully — check_file_read","text":"Check file can read successfully","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_file_read.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check file can be read successfully — check_file_read","text":"","code":"check_file_read(file_path, hub_path = \".\")"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_file_read.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check file can be read successfully — check_file_read","text":"file_path character string. Path file validated relative hub's model-output directory. hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_file_read.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check file can be read successfully — check_file_read","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <error/check_error> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_for_errors.html","id":null,"dir":"Reference","previous_headings":"","what":"Raise conditions stored in a hub_validations S3 object — check_for_errors","title":"Raise conditions stored in a hub_validations S3 object — check_for_errors","text":"meant used CI workflows raise conditions hub_validations objects can also useful locally summarise results checks contained hub_validations S3 object.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_for_errors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Raise conditions stored in a hub_validations S3 object — check_for_errors","text":"","code":"check_for_errors(x, verbose = FALSE)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_for_errors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Raise conditions stored in a hub_validations S3 object — check_for_errors","text":"x hub_validations object verbose Logical. TRUE, print results checks prior raising condition summarising hub_validations S3 object check results.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_for_errors.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Raise conditions stored in a hub_validations S3 object — check_for_errors","text":"error one elements x class check_failure, check_error, check_exec_error check_exec_warning. TRUE invisibly otherwise.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_metadata_file_exists.html","id":null,"dir":"Reference","previous_headings":"","what":"Check whether a metadata schema file exists — check_metadata_file_exists","title":"Check whether a metadata schema file exists — check_metadata_file_exists","text":"Check whether metadata schema file exists","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_metadata_file_exists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check whether a metadata schema file exists — check_metadata_file_exists","text":"","code":"check_metadata_file_exists(hub_path = \".\", file_path)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_metadata_file_exists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check whether a metadata schema file exists — check_metadata_file_exists","text":"hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory. file_path character string. Path file validated relative hub's model-metadata directory.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_metadata_file_exists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check whether a metadata schema file exists — check_metadata_file_exists","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <error/check_error> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_metadata_file_ext.html","id":null,"dir":"Reference","previous_headings":"","what":"Check file is being submitted to the correct folder — check_metadata_file_ext","title":"Check file is being submitted to the correct folder — check_metadata_file_ext","text":"Checks model_id metadata file name matches directory name file submitted .","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_metadata_file_ext.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check file is being submitted to the correct folder — check_metadata_file_ext","text":"","code":"check_metadata_file_ext(file_path)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_metadata_file_ext.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check file is being submitted to the correct folder — check_metadata_file_ext","text":"file_path character string. Path file validated relative hub's model-output directory.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_metadata_file_ext.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check file is being submitted to the correct folder — check_metadata_file_ext","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <warning/check_failure> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_metadata_file_location.html","id":null,"dir":"Reference","previous_headings":"","what":"Check that the metadata file is being submitted to the correct folder — check_metadata_file_location","title":"Check that the metadata file is being submitted to the correct folder — check_metadata_file_location","text":"Check metadata file submitted correct folder","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_metadata_file_location.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check that the metadata file is being submitted to the correct folder — check_metadata_file_location","text":"","code":"check_metadata_file_location(file_path)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_metadata_file_location.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check that the metadata file is being submitted to the correct folder — check_metadata_file_location","text":"file_path character string. Path file validated relative hub's model-metadata directory.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_metadata_file_location.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check that the metadata file is being submitted to the correct folder — check_metadata_file_location","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <warning/check_failure> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_metadata_file_name.html","id":null,"dir":"Reference","previous_headings":"","what":"Check whether the file name of a metadata file matches the model_id or\ncombination of team_abbr and model_abbr specified within the metadata file — check_metadata_file_name","title":"Check whether the file name of a metadata file matches the model_id or\ncombination of team_abbr and model_abbr specified within the metadata file — check_metadata_file_name","text":"Check whether file name metadata file matches model_id combination team_abbr model_abbr specified within metadata file","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_metadata_file_name.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check whether the file name of a metadata file matches the model_id or\ncombination of team_abbr and model_abbr specified within the metadata file — check_metadata_file_name","text":"","code":"check_metadata_file_name(file_path, hub_path = \".\")"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_metadata_file_name.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check whether the file name of a metadata file matches the model_id or\ncombination of team_abbr and model_abbr specified within the metadata file — check_metadata_file_name","text":"file_path character string. Path file validated relative hub's model-metadata directory. hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_metadata_file_name.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check whether the file name of a metadata file matches the model_id or\ncombination of team_abbr and model_abbr specified within the metadata file — check_metadata_file_name","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <warning/check_failure> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_metadata_matches_schema.html","id":null,"dir":"Reference","previous_headings":"","what":"Check whether a metadata file matches the schema provided by the hub — check_metadata_matches_schema","title":"Check whether a metadata file matches the schema provided by the hub — check_metadata_matches_schema","text":"Check whether metadata file matches schema provided hub","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_metadata_matches_schema.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check whether a metadata file matches the schema provided by the hub — check_metadata_matches_schema","text":"","code":"check_metadata_matches_schema(file_path, hub_path = \".\")"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_metadata_matches_schema.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check whether a metadata file matches the schema provided by the hub — check_metadata_matches_schema","text":"file_path character string. Path file validated relative hub's model-metadata directory. hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_metadata_matches_schema.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check whether a metadata file matches the schema provided by the hub — check_metadata_matches_schema","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <warning/check_failure> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_metadata_schema_exists.html","id":null,"dir":"Reference","previous_headings":"","what":"Check whether a metadata schema file exists — check_metadata_schema_exists","title":"Check whether a metadata schema file exists — check_metadata_schema_exists","text":"Check whether metadata schema file exists","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_metadata_schema_exists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check whether a metadata schema file exists — check_metadata_schema_exists","text":"","code":"check_metadata_schema_exists(hub_path = \".\")"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_metadata_schema_exists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check whether a metadata schema file exists — check_metadata_schema_exists","text":"hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_metadata_schema_exists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check whether a metadata schema file exists — check_metadata_schema_exists","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <warning/check_failure> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_submission_metadata_file_exists.html","id":null,"dir":"Reference","previous_headings":"","what":"Check whether a metadata file for the given model exists — check_submission_metadata_file_exists","title":"Check whether a metadata file for the given model exists — check_submission_metadata_file_exists","text":"Check whether metadata file given model exists","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_submission_metadata_file_exists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check whether a metadata file for the given model exists — check_submission_metadata_file_exists","text":"","code":"check_submission_metadata_file_exists(file_path, hub_path = \".\")"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_submission_metadata_file_exists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check whether a metadata file for the given model exists — check_submission_metadata_file_exists","text":"file_path character string. Path file validated relative hub's model-output directory. hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_submission_metadata_file_exists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check whether a metadata file for the given model exists — check_submission_metadata_file_exists","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <error/check_error> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_submission_time.html","id":null,"dir":"Reference","previous_headings":"","what":"Checks submission is within the valid submission window for a given round. — check_submission_time","title":"Checks submission is within the valid submission window for a given round. — check_submission_time","text":"Checks submission within valid submission window given round.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_submission_time.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Checks submission is within the valid submission window for a given round. — check_submission_time","text":"","code":"check_submission_time(   hub_path,   file_path,   ref_date_from = c(\"file\", \"file_path\") )"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_submission_time.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Checks submission is within the valid submission window for a given round. — check_submission_time","text":"hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory. file_path character string. Path file validated relative hub's model-output directory. ref_date_from whether get reference date around relative submission windows determined file's file_path round ID file contents . file requires file can read. applicable round configured determine submission windows relative value date column model output files. applicable explicit submission window start end dates provided hub's config.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_submission_time.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Checks submission is within the valid submission window for a given round. — check_submission_time","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <warning/check_failure> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_col_types.html","id":null,"dir":"Reference","previous_headings":"","what":"Check model data column data types — check_tbl_col_types","title":"Check model data column data types — check_tbl_col_types","text":"Check model output data column datatypes conform define hub config.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_col_types.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check model data column data types — check_tbl_col_types","text":"","code":"check_tbl_col_types(tbl, file_path, hub_path)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_col_types.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check model data column data types — check_tbl_col_types","text":"tbl tibble/data.frame contents file validated. file_path character string. Path file validated relative hub's model-output directory. hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_col_types.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check model data column data types — check_tbl_col_types","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <warning/check_failure> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_colnames.html","id":null,"dir":"Reference","previous_headings":"","what":"Check column names of model output data — check_tbl_colnames","title":"Check column names of model output data — check_tbl_colnames","text":"Checks tibble/data.frame data read file validated contains expected task ID standard column names according round configuration validated .","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_colnames.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check column names of model output data — check_tbl_colnames","text":"","code":"check_tbl_colnames(tbl, round_id, file_path, hub_path = \".\")"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_colnames.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check column names of model output data — check_tbl_colnames","text":"tbl tibble/data.frame contents file validated. round_id character string. round identifier. file_path character string. Path file validated relative hub's model-output directory. hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_colnames.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check column names of model output data — check_tbl_colnames","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <error/check_error> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_match_round_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Check model output data tbl round ID matches submission round ID. — check_tbl_match_round_id","title":"Check model output data tbl round ID matches submission round ID. — check_tbl_match_round_id","text":"Check model output data tbl round ID matches submission round ID.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_match_round_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check model output data tbl round ID matches submission round ID. — check_tbl_match_round_id","text":"","code":"check_tbl_match_round_id(tbl, file_path, hub_path, round_id_col = NULL)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_match_round_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check model output data tbl round ID matches submission round ID. — check_tbl_match_round_id","text":"tbl tibble/data.frame contents file validated. file_path character string. Path file validated relative hub's model-output directory. hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory. round_id_col Character string. name column containing round_ids. Usually, value round property round_id hub tasks.json config file.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_match_round_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check model output data tbl round ID matches submission round ID. — check_tbl_match_round_id","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <warning/check_error> condition class object. round_id_from_variable: false round_id_col name provided, check skipped <message/check_info> condition class object returned. valid round_id_col name provided can extracted config (check check_valid_round_id_col), <message/check_error> condition class object returned rest check skipped.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_match_round_id.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check model output data tbl round ID matches submission round ID. — check_tbl_match_round_id","text":"check applies files submitted rounds round_id_from_variable: true round_id_col name explicitly provided. Skipped otherwise.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_rows_unique.html","id":null,"dir":"Reference","previous_headings":"","what":"Check model data rows are all unique — check_tbl_rows_unique","title":"Check model data rows are all unique — check_tbl_rows_unique","text":"Checks combinations task ID, output type output type ID value combinations unique, checking duplicate rows across tbl columns excluding value column.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_rows_unique.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check model data rows are all unique — check_tbl_rows_unique","text":"","code":"check_tbl_rows_unique(tbl, file_path, hub_path)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_rows_unique.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check model data rows are all unique — check_tbl_rows_unique","text":"tbl tibble/data.frame contents file validated. Column types must character. file_path character string. Path file validated relative hub's model-output directory. hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_rows_unique.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check model data rows are all unique — check_tbl_rows_unique","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <warning/check_failure> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_unique_round_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Check model output data tbl contains a single unique round ID. — check_tbl_unique_round_id","title":"Check model output data tbl contains a single unique round ID. — check_tbl_unique_round_id","text":"Check model output data tbl contains single unique round ID.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_unique_round_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check model output data tbl contains a single unique round ID. — check_tbl_unique_round_id","text":"","code":"check_tbl_unique_round_id(tbl, file_path, hub_path, round_id_col = NULL)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_unique_round_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check model output data tbl contains a single unique round ID. — check_tbl_unique_round_id","text":"tbl tibble/data.frame contents file validated. file_path character string. Path file validated relative hub's model-output directory. hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory. round_id_col Character string. name column containing round_ids. Usually, value round property round_id hub tasks.json config file.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_unique_round_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check model output data tbl contains a single unique round ID. — check_tbl_unique_round_id","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <warning/check_error> condition class object. round_id_from_variable: false round_id_col name provided, check skipped <message/check_info> condition class object returned. valid round_id_col name provided can extracted config (check check_valid_round_id_col), <message/check_error> condition class object returned rest check skipped.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_unique_round_id.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check model output data tbl contains a single unique round ID. — check_tbl_unique_round_id","text":"check applies files submitted rounds round_id_from_variable: true round_id_col name explicitly provided. Skipped otherwise.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_value_col.html","id":null,"dir":"Reference","previous_headings":"","what":"Check output type values of model output data against config — check_tbl_value_col","title":"Check output type values of model output data against config — check_tbl_value_col","text":"Checks values value column tibble/data.frame data read file validated conform configuration output type appropriate model task.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_value_col.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check output type values of model output data against config — check_tbl_value_col","text":"","code":"check_tbl_value_col(tbl, round_id, file_path, hub_path)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_value_col.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check output type values of model output data against config — check_tbl_value_col","text":"tbl tibble/data.frame contents file validated. round_id character string. round identifier. file_path character string. Path file validated relative hub's model-output directory. hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_value_col.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check output type values of model output data against config — check_tbl_value_col","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <warning/check_failure> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_value_col_ascending.html","id":null,"dir":"Reference","previous_headings":"","what":"Check that quantile and cdf output type values of model output data\nare non-descending — check_tbl_value_col_ascending","title":"Check that quantile and cdf output type values of model output data\nare non-descending — check_tbl_value_col_ascending","text":"Checks values value column quantile cdf output type data unique task ID/output type combination non-descending arranged increasing output_type_id order. Check performed tbl contains quantile cdf output type data. , check skipped <message/check_info> condition class object returned.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_value_col_ascending.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check that quantile and cdf output type values of model output data\nare non-descending — check_tbl_value_col_ascending","text":"","code":"check_tbl_value_col_ascending(tbl, file_path)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_value_col_ascending.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check that quantile and cdf output type values of model output data\nare non-descending — check_tbl_value_col_ascending","text":"tbl tibble/data.frame contents file validated. file_path character string. Path file validated relative hub's model-output directory.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_value_col_ascending.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check that quantile and cdf output type values of model output data\nare non-descending — check_tbl_value_col_ascending","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <warning/check_failure> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_value_col_sum1.html","id":null,"dir":"Reference","previous_headings":"","what":"Check that pmf output type values of model output data sum to 1. — check_tbl_value_col_sum1","title":"Check that pmf output type values of model output data sum to 1. — check_tbl_value_col_sum1","text":"Checks values value column pmf output type data unique task ID combination sum 1. Check performed tbl contains pmf output type data. , check skipped <message/check_info> condition class object returned.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_value_col_sum1.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check that pmf output type values of model output data sum to 1. — check_tbl_value_col_sum1","text":"","code":"check_tbl_value_col_sum1(tbl, file_path)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_value_col_sum1.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check that pmf output type values of model output data sum to 1. — check_tbl_value_col_sum1","text":"tbl tibble/data.frame contents file validated. file_path character string. Path file validated relative hub's model-output directory.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_value_col_sum1.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check that pmf output type values of model output data sum to 1. — check_tbl_value_col_sum1","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <warning/check_failure> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_values.html","id":null,"dir":"Reference","previous_headings":"","what":"Check model output data tbl contains valid value combinations — check_tbl_values","title":"Check model output data tbl contains valid value combinations — check_tbl_values","text":"Check model output data tbl contains valid value combinations","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check model output data tbl contains valid value combinations — check_tbl_values","text":"","code":"check_tbl_values(tbl, round_id, file_path, hub_path)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_values.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check model output data tbl contains valid value combinations — check_tbl_values","text":"tbl tibble/data.frame contents file validated. Column types must character. round_id character string. round identifier. file_path character string. Path file validated relative hub's model-output directory. hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_values.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check model output data tbl contains valid value combinations — check_tbl_values","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <error/check_error> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_values_required.html","id":null,"dir":"Reference","previous_headings":"","what":"Check all required task ID/output type/output type ID value combinations present\nin model data. — check_tbl_values_required","title":"Check all required task ID/output type/output type ID value combinations present\nin model data. — check_tbl_values_required","text":"Check required task ID/output type/output type ID value combinations present model data.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_values_required.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check all required task ID/output type/output type ID value combinations present\nin model data. — check_tbl_values_required","text":"","code":"check_tbl_values_required(tbl, round_id, file_path, hub_path)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_values_required.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check all required task ID/output type/output type ID value combinations present\nin model data. — check_tbl_values_required","text":"tbl tibble/data.frame contents file validated. Column types must character. round_id character string. round identifier. file_path character string. Path file validated relative hub's model-output directory. hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_tbl_values_required.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check all required task ID/output type/output type ID value combinations present\nin model data. — check_tbl_values_required","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <warning/check_failure> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_valid_round_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Check whether the round_id determined for the submission is valid — check_valid_round_id","title":"Check whether the round_id determined for the submission is valid — check_valid_round_id","text":"Check whether round_id determined submission valid","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_valid_round_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check whether the round_id determined for the submission is valid — check_valid_round_id","text":"","code":"check_valid_round_id(round_id, file_path, hub_path = \".\")"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_valid_round_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check whether the round_id determined for the submission is valid — check_valid_round_id","text":"round_id character string. round identifier. file_path character string. Path file validated relative hub's model-output directory. hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_valid_round_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check whether the round_id determined for the submission is valid — check_valid_round_id","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <error/check_error> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_valid_round_id_col.html","id":null,"dir":"Reference","previous_headings":"","what":"Check that any round_id_col name provided or extracted from the hub config is\nvalid. — check_valid_round_id_col","title":"Check that any round_id_col name provided or extracted from the hub config is\nvalid. — check_valid_round_id_col","text":"Check round_id_col name provided extracted hub config valid.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_valid_round_id_col.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check that any round_id_col name provided or extracted from the hub config is\nvalid. — check_valid_round_id_col","text":"","code":"check_valid_round_id_col(tbl, file_path, hub_path, round_id_col = NULL)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_valid_round_id_col.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check that any round_id_col name provided or extracted from the hub config is\nvalid. — check_valid_round_id_col","text":"tbl tibble/data.frame contents file validated. file_path character string. Path file validated relative hub's model-output directory. hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory. round_id_col Character string. name column containing round_ids. Usually, value round property round_id hub tasks.json config file.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_valid_round_id_col.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check that any round_id_col name provided or extracted from the hub config is\nvalid. — check_valid_round_id_col","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <warning/check_warning> condition class object. round_id_from_variable: false round_id_col name provided, check skipped <message/check_info> condition class object returned. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/check_valid_round_id_col.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check that any round_id_col name provided or extracted from the hub config is\nvalid. — check_valid_round_id_col","text":"check applies files submitted rounds round_id_from_variable: true round_id_col name explicitly provided. Skipped otherwise.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/combine.html","id":null,"dir":"Reference","previous_headings":"","what":"Concatenate hub_validations S3 class objects — combine","title":"Concatenate hub_validations S3 class objects — combine","text":"Concatenate hub_validations S3 class objects","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/combine.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Concatenate hub_validations S3 class objects — combine","text":"","code":"combine(...)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/combine.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Concatenate hub_validations S3 class objects — combine","text":"... hub_validations S3 class objects concatenated.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/combine.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Concatenate hub_validations S3 class objects — combine","text":"hub_validations S3 class object.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/is_success.html","id":null,"dir":"Reference","previous_headings":"","what":"Get status of a hub check — is_success","title":"Get status of a hub check — is_success","text":"Get status hub check","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/is_success.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get status of a hub check — is_success","text":"","code":"is_success(x)  is_failure(x)  is_error(x)  is_info(x)  not_pass(x)  is_exec_error(x)  is_exec_warn(x)  is_any_error(x)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/is_success.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get status of a hub check — is_success","text":"x object inherits class <hub_check> test.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/is_success.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get status of a hub check — is_success","text":"Logical. given status check TRUE?","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/is_success.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Get status of a hub check — is_success","text":"is_success(): check success? is_failure(): check failure? is_error(): check error? is_info(): check info? not_pass(): check pass? is_exec_error(): exec error? is_exec_warn(): exec warning? is_any_error(): error exec error?","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/new_hub_validations.html","id":null,"dir":"Reference","previous_headings":"","what":"Create new or convert list to hub_validations S3 class object — new_hub_validations","title":"Create new or convert list to hub_validations S3 class object — new_hub_validations","text":"Create new convert list hub_validations S3 class object","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/new_hub_validations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create new or convert list to hub_validations S3 class object — new_hub_validations","text":"","code":"new_hub_validations(...)  as_hub_validations(x)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/new_hub_validations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create new or convert list to hub_validations S3 class object — new_hub_validations","text":"... named elements included. element must object inherits class <hub_check>. x list named elements. element must object inherits class <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/new_hub_validations.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create new or convert list to hub_validations S3 class object — new_hub_validations","text":"S3 object class <hub_validations>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/new_hub_validations.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Create new or convert list to hub_validations S3 class object — new_hub_validations","text":"new_hub_validations(): Create new <hub_validations> S3 class object as_hub_validations(): Convert list <hub_validations> S3 class object","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/new_hub_validations.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create new or convert list to hub_validations S3 class object — new_hub_validations","text":"","code":"new_hub_validations() #> ::notice ::Empty <hub_validations>  hub_path <- system.file(\"testhubs/simple\", package = \"hubValidations\") file_path <- \"team1-goodmodel/2022-10-08-team1-goodmodel.csv\" new_hub_validations(   file_exists = check_file_exists(file_path, hub_path),   file_name = check_file_name(file_path) ) #> ::notice ::✔ 2022-10-08-team1-goodmodel.csv: File exists at path%0A  model-output/team1-goodmodel/2022-10-08-team1-goodmodel.csv.%0A✔ 2022-10-08-team1-goodmodel.csv: File name \"2022-10-08-team1-goodmodel.csv\" is%0A  valid. x <- list(   file_exists = check_file_exists(file_path, hub_path),   file_name = check_file_name(file_path) ) as_hub_validations(x) #> ::notice ::✔ 2022-10-08-team1-goodmodel.csv: File exists at path%0A  model-output/team1-goodmodel/2022-10-08-team1-goodmodel.csv.%0A✔ 2022-10-08-team1-goodmodel.csv: File name \"2022-10-08-team1-goodmodel.csv\" is%0A  valid."},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/opt_check_metadata_team_max_model_n.html","id":null,"dir":"Reference","previous_headings":"","what":"Check that submitting team does not exceed maximum number of allowed models\nper team — opt_check_metadata_team_max_model_n","title":"Check that submitting team does not exceed maximum number of allowed models\nper team — opt_check_metadata_team_max_model_n","text":"Check submitting team exceed maximum number allowed models per team","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/opt_check_metadata_team_max_model_n.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check that submitting team does not exceed maximum number of allowed models\nper team — opt_check_metadata_team_max_model_n","text":"","code":"opt_check_metadata_team_max_model_n(file_path, hub_path, n_max = 2L)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/opt_check_metadata_team_max_model_n.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check that submitting team does not exceed maximum number of allowed models\nper team — opt_check_metadata_team_max_model_n","text":"file_path character string. Path file validated relative hub's model-metadata directory. hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory. n_max Integer. Number maximum allowed models per team.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/opt_check_metadata_team_max_model_n.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check that submitting team does not exceed maximum number of allowed models\nper team — opt_check_metadata_team_max_model_n","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <warning/check_failure> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/opt_check_metadata_team_max_model_n.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check that submitting team does not exceed maximum number of allowed models\nper team — opt_check_metadata_team_max_model_n","text":"deployed part validate_model_metadata optional checks.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/opt_check_tbl_col_timediff.html","id":null,"dir":"Reference","previous_headings":"","what":"Check time difference between values in two date columns equal a defined period. — opt_check_tbl_col_timediff","title":"Check time difference between values in two date columns equal a defined period. — opt_check_tbl_col_timediff","text":"Check time difference values two date columns equal defined period.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/opt_check_tbl_col_timediff.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check time difference between values in two date columns equal a defined period. — opt_check_tbl_col_timediff","text":"","code":"opt_check_tbl_col_timediff(   tbl,   file_path,   hub_path,   t0_colname,   t1_colname,   timediff = lubridate::weeks(2) )"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/opt_check_tbl_col_timediff.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check time difference between values in two date columns equal a defined period. — opt_check_tbl_col_timediff","text":"tbl tibble/data.frame contents file validated. file_path character string. Path file validated relative hub's model-output directory. hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory. t0_colname Character string. name time zero date column. t1_colname Character string. name time zero + 1 time step date column. timediff object class lubridate Period length 1.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/opt_check_tbl_col_timediff.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check time difference between values in two date columns equal a defined period. — opt_check_tbl_col_timediff","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <warning/check_failure> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/opt_check_tbl_col_timediff.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check time difference between values in two date columns equal a defined period. — opt_check_tbl_col_timediff","text":"deployed part validate_model_data optional checks.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/opt_check_tbl_counts_lt_popn.html","id":null,"dir":"Reference","previous_headings":"","what":"Check that predicted values per location are less than total location population. — opt_check_tbl_counts_lt_popn","title":"Check that predicted values per location are less than total location population. — opt_check_tbl_counts_lt_popn","text":"Check predicted values per location less total location population.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/opt_check_tbl_counts_lt_popn.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check that predicted values per location are less than total location population. — opt_check_tbl_counts_lt_popn","text":"","code":"opt_check_tbl_counts_lt_popn(   tbl,   file_path,   hub_path,   targets = NULL,   popn_file_path = \"auxiliary-data/locations.csv\",   popn_col = \"population\",   location_col = \"location\" )"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/opt_check_tbl_counts_lt_popn.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check that predicted values per location are less than total location population. — opt_check_tbl_counts_lt_popn","text":"tbl tibble/data.frame contents file validated. file_path character string. Path file validated relative hub's model-output directory. hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory. targets Either single target key list list multiple target key lists. popn_file_path Character string. Path population data relative hub root. Defaults auxiliary-data/locations.csv. popn_col Character string. name population size column population data set. location_col Character string. name location column. Used join population data submission file data. Must shared files.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/opt_check_tbl_counts_lt_popn.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check that predicted values per location are less than total location population. — opt_check_tbl_counts_lt_popn","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <warning/check_failure> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/opt_check_tbl_counts_lt_popn.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check that predicted values per location are less than total location population. — opt_check_tbl_counts_lt_popn","text":"applied rows containing count predictions. Use argument targets filter tbl data appropriate count target rows. deployed part validate_model_data optional checks.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/opt_check_tbl_counts_lt_popn.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check that predicted values per location are less than total location population. — opt_check_tbl_counts_lt_popn","text":"","code":"hub_path <- system.file(\"testhubs/flusight\", package = \"hubValidations\") file_path <- \"hub-ensemble/2023-05-08-hub-ensemble.parquet\" tbl <- hubValidations::read_model_out_file(file_path, hub_path) # Single target key list targets <- list(\"target\" = \"wk ahead inc flu hosp\") opt_check_tbl_counts_lt_popn(tbl, file_path, hub_path, targets = targets) #> <message/check_success> #> Message: #> Target counts are less than location population size."},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/opt_check_tbl_horizon_timediff.html","id":null,"dir":"Reference","previous_headings":"","what":"Check time difference between values in two date columns equals a defined time\nperiod defined by values in a horizon column — opt_check_tbl_horizon_timediff","title":"Check time difference between values in two date columns equals a defined time\nperiod defined by values in a horizon column — opt_check_tbl_horizon_timediff","text":"Check time difference values two date columns equals defined time period defined values horizon column","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/opt_check_tbl_horizon_timediff.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check time difference between values in two date columns equals a defined time\nperiod defined by values in a horizon column — opt_check_tbl_horizon_timediff","text":"","code":"opt_check_tbl_horizon_timediff(   tbl,   file_path,   hub_path,   t0_colname,   t1_colname,   horizon_colname = \"horizon\",   timediff = lubridate::weeks() )"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/opt_check_tbl_horizon_timediff.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check time difference between values in two date columns equals a defined time\nperiod defined by values in a horizon column — opt_check_tbl_horizon_timediff","text":"tbl tibble/data.frame contents file validated. file_path character string. Path file validated relative hub's model-output directory. hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory. t0_colname Character string. name time zero date column. t1_colname Character string. name time zero + 1 time step date column. horizon_colname Character string. name horizon column. Defaults \"horizon\". timediff object class lubridate Period length 1. period single horizon. Default 1 week.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/opt_check_tbl_horizon_timediff.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check time difference between values in two date columns equals a defined time\nperiod defined by values in a horizon column — opt_check_tbl_horizon_timediff","text":"Depending whether validation succeeded, one : <message/check_success> condition class object. <warning/check_failure> condition class object. Returned object also inherits subclass <hub_check>.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/opt_check_tbl_horizon_timediff.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check time difference between values in two date columns equals a defined time\nperiod defined by values in a horizon column — opt_check_tbl_horizon_timediff","text":"deployed part validate_model_data optional checks.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/parse_file_name.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse model output file metadata from file name — parse_file_name","title":"Parse model output file metadata from file name — parse_file_name","text":"Parse model output file metadata file name","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/parse_file_name.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse model output file metadata from file name — parse_file_name","text":"","code":"parse_file_name(file_path, file_type = c(\"model_output\", \"model_metadata\"))"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/parse_file_name.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse model output file metadata from file name — parse_file_name","text":"file_path Character string. model output file name. Can include parent directories ignored. file_type Character string. Type file name parsed. One \"model_output\" \"model_metadata\".","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/parse_file_name.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse model output file metadata from file name — parse_file_name","text":"list following elements: round_id: round ID model output associated (NA model metadata files.) team_abbr: team responsible model. model_abbr: name model. model_id: unique model ID derived concatenation <team_abbr>-<model_abbr>. ext: file extension.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/parse_file_name.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Parse model output file metadata from file name — parse_file_name","text":"","code":"parse_file_name(\"hub-baseline/2022-10-15-hub-baseline.csv\") #> $round_id #> [1] \"2022-10-15\" #>  #> $team_abbr #> [1] \"hub\" #>  #> $model_abbr #> [1] \"baseline\" #>  #> $model_id #> [1] \"hub-baseline\" #>  #> $ext #> [1] \"csv\" #>"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/print.hub_validations.html","id":null,"dir":"Reference","previous_headings":"","what":"Print results of validate_...() function as a bullet list — print.hub_validations","title":"Print results of validate_...() function as a bullet list — print.hub_validations","text":"Print results validate_...() function bullet list","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/print.hub_validations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print results of validate_...() function as a bullet list — print.hub_validations","text":"","code":"# S3 method for hub_validations print(x, ...)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/print.hub_validations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print results of validate_...() function as a bullet list — print.hub_validations","text":"x object class hub_validations ... Unused argument present class consistency","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/print.pr_hub_validations.html","id":null,"dir":"Reference","previous_headings":"","what":"Print results of validate_pr() function as a bullet list — print.pr_hub_validations","title":"Print results of validate_pr() function as a bullet list — print.pr_hub_validations","text":"Print results validate_pr() function bullet list","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/print.pr_hub_validations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print results of validate_pr() function as a bullet list — print.pr_hub_validations","text":"","code":"# S3 method for pr_hub_validations print(x, ...)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/print.pr_hub_validations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print results of validate_pr() function as a bullet list — print.pr_hub_validations","text":"x object class pr_hub_validations ... Unused argument present class consistency","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/read_model_out_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Read a model output file — read_model_out_file","title":"Read a model output file — read_model_out_file","text":"Read model output file","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/read_model_out_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read a model output file — read_model_out_file","text":"","code":"read_model_out_file(   file_path,   hub_path = \".\",   coerce_types = c(\"hub\", \"chr\", \"none\") )"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/read_model_out_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read a model output file — read_model_out_file","text":"file_path character string. Path file validated relative hub's model-output directory. hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory. coerce_types character. coerce column types read. hub: read (csv) coerce (parquet, arrow) hub schema. chr: read (csv) coerce (parquet, arrow) columns character. none: coercion. Use arrow read_* function defaults.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/read_model_out_file.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read a model output file — read_model_out_file","text":"tibble contents model output file.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/try_check.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrap check expression in try to capture check execution errors — try_check","title":"Wrap check expression in try to capture check execution errors — try_check","text":"Wrap check expression try capture check execution errors","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/try_check.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrap check expression in try to capture check execution errors — try_check","text":"","code":"try_check(expr, file_path)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/try_check.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrap check expression in try to capture check execution errors — try_check","text":"expr check function expression run. file_path character string. Path file validated relative hub's model-output directory.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/try_check.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrap check expression in try to capture check execution errors — try_check","text":"expr executes correctly, output expr returned. execution fails, object class <error/check_exec_error> returned. execution error message attached attribute msg.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_model_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate the contents of a submitted model data file — validate_model_data","title":"Validate the contents of a submitted model data file — validate_model_data","text":"Validate contents submitted model data file","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_model_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate the contents of a submitted model data file — validate_model_data","text":"","code":"validate_model_data(   hub_path,   file_path,   round_id_col = NULL,   validations_cfg_path = NULL )"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_model_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate the contents of a submitted model data file — validate_model_data","text":"hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory. file_path character string. Path file validated relative hub's model-output directory. round_id_col Character string. name column containing round_ids. Usually, value round property round_id hub tasks.json config file. validations_cfg_path Path validations.yml file. NULL defaults hub-config/validations.yml.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_model_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate the contents of a submitted model data file — validate_model_data","text":"object class hub_validations. named element contains hub_check class object reflecting result given check. Function return early check returns error. details structure <hub_validations> objects, including access information individual checks, see article <hub_validations> S3 class objects.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_model_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Validate the contents of a submitted model data file — validate_model_data","text":"Details checks performed validate_model_data()","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_model_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate the contents of a submitted model data file — validate_model_data","text":"","code":"hub_path <- system.file(\"testhubs/simple\", package = \"hubValidations\") file_path <- \"team1-goodmodel/2022-10-08-team1-goodmodel.csv\" validate_model_data(hub_path, file_path) #> ::notice ::✔ 2022-10-08-team1-goodmodel.csv: File could be read successfully.%0A✔ 2022-10-08-team1-goodmodel.csv: `round_id_col` name is valid.%0A✔ 2022-10-08-team1-goodmodel.csv: `round_id` column \"origin_date\" contains a%0A  single, unique round ID value.%0A✔ 2022-10-08-team1-goodmodel.csv: All `round_id_col` \"origin_date\" values match%0A  submission `round_id` from file name.%0A✔ 2022-10-08-team1-goodmodel.csv: Column names are consistent with expected%0A  round task IDs and std column names.%0A✔ 2022-10-08-team1-goodmodel.csv: Column data types match hub schema.%0A✔ 2022-10-08-team1-goodmodel.csv: `tbl` contains valid values/value%0A  combinations.%0A✔ 2022-10-08-team1-goodmodel.csv: All combinations of task ID%0A  column/`output_type`/`output_type_id` values are unique.%0A✔ 2022-10-08-team1-goodmodel.csv: Required task ID/output type/output type ID%0A  combinations all present.%0A✔ 2022-10-08-team1-goodmodel.csv: Values in column `value` all valid with%0A  respect to modeling task config.%0A✔ 2022-10-08-team1-goodmodel.csv: Values in `value` column are non-decreasing%0A  as output_type_ids increase for all unique task ID value/output type%0A  combinations of quantile or cdf output types.%0Aℹ 2022-10-08-team1-goodmodel.csv: No pmf output types to check for sum of 1.%0A  Check skipped."},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_model_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Valid file level properties of a submitted model output file. — validate_model_file","title":"Valid file level properties of a submitted model output file. — validate_model_file","text":"Valid file level properties submitted model output file.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_model_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Valid file level properties of a submitted model output file. — validate_model_file","text":"","code":"validate_model_file(hub_path, file_path, validations_cfg_path = NULL)"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_model_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Valid file level properties of a submitted model output file. — validate_model_file","text":"hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory. file_path character string. Path file validated relative hub's model-output directory. validations_cfg_path Path validations.yml file. NULL defaults hub-config/validations.yml.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_model_file.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Valid file level properties of a submitted model output file. — validate_model_file","text":"object class hub_validations. named element contains hub_check class object reflecting result given check. Function return early check returns error. details structure <hub_validations> objects, including access information individual checks, see article <hub_validations> S3 class objects.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_model_file.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Valid file level properties of a submitted model output file. — validate_model_file","text":"Details checks performed validate_model_file()","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_model_file.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Valid file level properties of a submitted model output file. — validate_model_file","text":"","code":"hub_path <- system.file(\"testhubs/simple\", package = \"hubValidations\") validate_model_file(hub_path,   file_path = \"team1-goodmodel/2022-10-08-team1-goodmodel.csv\" ) #> ::notice ::✔ 2022-10-08-team1-goodmodel.csv: File exists at path%0A  model-output/team1-goodmodel/2022-10-08-team1-goodmodel.csv.%0A✔ 2022-10-08-team1-goodmodel.csv: File name \"2022-10-08-team1-goodmodel.csv\" is%0A  valid.%0A✔ 2022-10-08-team1-goodmodel.csv: File directory name matches `model_id`%0A  metadata in file name.%0A✔ 2022-10-08-team1-goodmodel.csv: `round_id` is valid.%0A✔ 2022-10-08-team1-goodmodel.csv: File is accepted hub format.%0A✔ 2022-10-08-team1-goodmodel.csv: Metadata file exists at path%0A  model-metadata/team1-goodmodel.yaml. validate_model_file(hub_path,   file_path = \"team1-goodmodel/2022-10-15-team1-goodmodel.csv\" ) #> ::notice ::✖ 2022-10-15-team1-goodmodel.csv: File does not exist at path%0A  model-output/team1-goodmodel/2022-10-15-team1-goodmodel.csv."},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_model_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Valid properties of a metadata file. — validate_model_metadata","title":"Valid properties of a metadata file. — validate_model_metadata","text":"Valid properties metadata file.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_model_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Valid properties of a metadata file. — validate_model_metadata","text":"","code":"validate_model_metadata(   hub_path,   file_path,   round_id = \"default\",   validations_cfg_path = NULL )"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_model_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Valid properties of a metadata file. — validate_model_metadata","text":"hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory. file_path character string. Path file validated relative hub's model-output directory. round_id character string. round identifier. Used primarily indicate whether \"default\" round specific configuration used custom validations. validations_cfg_path Path validations.yml file. NULL defaults hub-config/validations.yml.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_model_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Valid properties of a metadata file. — validate_model_metadata","text":"object class hub_validations. named element contains hub_check class object reflecting result given check. Function return early check returns error.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_model_metadata.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Valid properties of a metadata file. — validate_model_metadata","text":"Details checks performed validate_model_metadata()","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_model_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Valid properties of a metadata file. — validate_model_metadata","text":"","code":"hub_path <- system.file(\"testhubs/simple\", package = \"hubValidations\") validate_model_metadata(hub_path,   file_path = \"hub-baseline.yml\" ) #> ::notice ::✔ model-metadata-schema.json: File exists at path%0A  hub-config/model-metadata-schema.json.%0A✔ hub-baseline.yml: File exists at path model-metadata/hub-baseline.yml.%0A✔ hub-baseline.yml: Metadata file extension is \"yml\" or \"yaml\".%0A✔ hub-baseline.yml: Metadata file directory name matches \"model-metadata\".%0A✔ hub-baseline.yml: Metadata file contents are consistent with schema%0A  specifications.%0A✔ hub-baseline.yml: Metadata file name matches the `model_id` specified within%0A  the metadata file. validate_model_metadata(hub_path,   file_path = \"team1-goodmodel.yaml\" ) #> ::notice ::✔ model-metadata-schema.json: File exists at path%0A  hub-config/model-metadata-schema.json.%0A✔ team1-goodmodel.yaml: File exists at path%0A  model-metadata/team1-goodmodel.yaml.%0A✔ team1-goodmodel.yaml: Metadata file extension is \"yml\" or \"yaml\".%0A✔ team1-goodmodel.yaml: Metadata file directory name matches \"model-metadata\".%0A✖ team1-goodmodel.yaml: Metadata file contents must be consistent with schema%0A  specifications.  - must have required property 'model_details' . - must NOT%0A  have additional properties; saw unexpected property 'models_details'. - must%0A  NOT have additional properties; saw unexpected property%0A  'ensemble_of_hub_models\"'. - /include_ensemble must be boolean ."},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_pr.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate Pull Request — validate_pr","title":"Validate Pull Request — validate_pr","text":"Validates model output model metadata files Pull Request.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_pr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate Pull Request — validate_pr","text":"","code":"validate_pr(   hub_path = \".\",   gh_repo,   pr_number,   round_id_col = NULL,   validations_cfg_path = NULL,   skip_submit_window_check = FALSE,   file_modification_check = c(\"error\", \"warn\", \"message\", \"none\"),   allow_submit_window_mods = TRUE,   submit_window_ref_date_from = c(\"file\", \"file_path\") )"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_pr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate Pull Request — validate_pr","text":"hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory. gh_repo GitHub repository address format username/repo pr_number Number pull request validate round_id_col Character string. name column containing round_ids. required files contain column contains round_id details configured via round_id_from_variable: true round_id: hub tasks.json config file. validations_cfg_path Path validations.yml file. NULL defaults hub-config/validations.yml. skip_submit_window_check Logical. Whether skip submission window check. file_modification_check Character string. Whether perform check return modification/deletion previously submitted model output file deletion previously submitted model metadata file detected PR: \"error\": Appends <error/check_error> condition class object applicable modified/deleted file. \"warning\": Appends <warning/check_warning> condition class object applicable modified/deleted file. \"message\": Appends <message/check_info> condition class object applicable modified/deleted file. \"none\": modification/deletion checks performed. allow_submit_window_mods Logical. Whether allow modifications/deletions model output files within submission windows. Defaults TRUE. submit_window_ref_date_from whether get reference date around relative submission windows determined file's file_path round ID file contents . file requires file can read. applicable round configured determine submission windows relative value date column model output files. applicable explicit submission window start end dates provided hub's config.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_pr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate Pull Request — validate_pr","text":"object class hub_validations.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_pr.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Validate Pull Request — validate_pr","text":"model output model metadata files individually validated using validate_submission() validate_model_metadata() respectively although part checks, hub config files also validated. files included PR ignored flagged message. default, modifications (include renaming) deletions previously submitted model output files deletions renaming previously submitted model metadata files allowed return <error/check_error> condition class object applicable modified/deleted file. behaviour can modified arguments file_modification_check, controls whether modification/deletion checks performed returned modifications/deletions detected, allow_submit_window_mods, controls whether modifications/deletions model output files allowed within submission windows. Note establish relative submission windows performing modification/deletion checks allow_submit_window_mods TRUE, reference date taken round_id extracted file path (.e. submit_window_ref_date_from always set \"file_path\"). extract dates columns deleted files. hub submission window reference dates match round IDs file paths, currently allow_submit_window_mods work correctly best set FALSE. relates hubs/rounds submission windows determined relative reference date explicit submission window start end dates provided config.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_pr.html","id":"checks-on-model-output-files","dir":"Reference","previous_headings":"","what":"Checks on model output files","title":"Validate Pull Request — validate_pr","text":"Details checks performed validate_submission()","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_pr.html","id":"checks-on-model-metadata-files","dir":"Reference","previous_headings":"","what":"Checks on model metadata files","title":"Validate Pull Request — validate_pr","text":"Details checks performed validate_model_metadata()","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_pr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate Pull Request — validate_pr","text":"","code":"if (FALSE) { validate_pr(   hub_path = \".\",   gh_repo = \"Infectious-Disease-Modeling-Hubs/ci-testhub-simple\",   pr_number = 3 ) }"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_submission.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate a submitted model data file. — validate_submission","title":"Validate a submitted model data file. — validate_submission","text":"Checks file level properties like file name, extension, location etc well model output data, .e. contents file.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_submission.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate a submitted model data file. — validate_submission","text":"","code":"validate_submission(   hub_path,   file_path,   round_id_col = NULL,   validations_cfg_path = NULL,   skip_submit_window_check = FALSE,   skip_check_config = FALSE,   submit_window_ref_date_from = c(\"file\", \"file_path\") )"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_submission.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate a submitted model data file. — validate_submission","text":"hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory. file_path character string. Path file validated relative hub's model-output directory. round_id_col Character string. name column containing round_ids. Usually, value round property round_id hub tasks.json config file. validations_cfg_path Path validations.yml file. NULL defaults hub-config/validations.yml. skip_submit_window_check Logical. Whether skip submission window check. skip_check_config Logical. Whether skip hub config validation check. check. submit_window_ref_date_from whether get reference date around relative submission windows determined file's file_path round ID file contents . file requires file can read. applicable round configured determine submission windows relative value date column model output files. applicable explicit submission window start end dates provided hub's config.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_submission.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate a submitted model data file. — validate_submission","text":"object class hub_validations. named element contains hub_check class object reflecting result given check. Function return early check returns error. details structure <hub_validations> objects, including access information individual checks, see article <hub_validations> S3 class objects.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_submission.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Validate a submitted model data file. — validate_submission","text":"Details checks performed validate_submission()","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_submission.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate a submitted model data file. — validate_submission","text":"","code":"hub_path <- system.file(\"testhubs/simple\", package = \"hubValidations\") file_path <- \"team1-goodmodel/2022-10-08-team1-goodmodel.csv\" validate_submission(hub_path, file_path) #> ::notice ::✔ simple: All hub config files are valid.%0A✔ 2022-10-08-team1-goodmodel.csv: File exists at path%0A  model-output/team1-goodmodel/2022-10-08-team1-goodmodel.csv.%0A✔ 2022-10-08-team1-goodmodel.csv: File name \"2022-10-08-team1-goodmodel.csv\" is%0A  valid.%0A✔ 2022-10-08-team1-goodmodel.csv: File directory name matches `model_id`%0A  metadata in file name.%0A✔ 2022-10-08-team1-goodmodel.csv: `round_id` is valid.%0A✔ 2022-10-08-team1-goodmodel.csv: File is accepted hub format.%0A✔ 2022-10-08-team1-goodmodel.csv: Metadata file exists at path%0A  model-metadata/team1-goodmodel.yaml.%0A✔ 2022-10-08-team1-goodmodel.csv: File could be read successfully.%0A✔ 2022-10-08-team1-goodmodel.csv: `round_id_col` name is valid.%0A✔ 2022-10-08-team1-goodmodel.csv: `round_id` column \"origin_date\" contains a%0A  single, unique round ID value.%0A✔ 2022-10-08-team1-goodmodel.csv: All `round_id_col` \"origin_date\" values match%0A  submission `round_id` from file name.%0A✔ 2022-10-08-team1-goodmodel.csv: Column names are consistent with expected%0A  round task IDs and std column names.%0A✔ 2022-10-08-team1-goodmodel.csv: Column data types match hub schema.%0A✔ 2022-10-08-team1-goodmodel.csv: `tbl` contains valid values/value%0A  combinations.%0A✔ 2022-10-08-team1-goodmodel.csv: All combinations of task ID%0A  column/`output_type`/`output_type_id` values are unique.%0A✔ 2022-10-08-team1-goodmodel.csv: Required task ID/output type/output type ID%0A  combinations all present.%0A✔ 2022-10-08-team1-goodmodel.csv: Values in column `value` all valid with%0A  respect to modeling task config.%0A✔ 2022-10-08-team1-goodmodel.csv: Values in `value` column are non-decreasing%0A  as output_type_ids increase for all unique task ID value/output type%0A  combinations of quantile or cdf output types.%0Aℹ 2022-10-08-team1-goodmodel.csv: No pmf output types to check for sum of 1.%0A  Check skipped.%0A! 2022-10-08-team1-goodmodel.csv: Submission time must be within accepted%0A  submission window for round.  Current time 2024-03-06 12:36:14.867619 is%0A  outside window 2022-10-02 EDT--2022-10-09 23:59:59 EDT."},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_submission_time.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate a submitted model data file submission time. — validate_submission_time","title":"Validate a submitted model data file submission time. — validate_submission_time","text":"Validate submitted model data file submission time.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_submission_time.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate a submitted model data file submission time. — validate_submission_time","text":"","code":"validate_submission_time(   hub_path,   file_path,   ref_date_from = c(\"file_path\", \"file\") )"},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_submission_time.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate a submitted model data file submission time. — validate_submission_time","text":"hub_path Either character string path local Modeling Hub directory object class <SubTreeFileSystem> created using functions s3_bucket() gs_bucket() providing string S3 GCS bucket name path Modeling Hub directory stored cloud. details consult Using cloud storage (S3, GCS) arrow package. hub must fully configured valid admin.json tasks.json files within hub-config directory. file_path character string. Path file validated relative hub's model-output directory. ref_date_from whether get reference date around relative submission windows determined file's file_path round ID file contents . file requires file can read. applicable round configured determine submission windows relative value date column model output files. applicable explicit submission window start end dates provided hub's config.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_submission_time.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate a submitted model data file submission time. — validate_submission_time","text":"object class hub_validations. named element contains hub_check class object reflecting result given check. Function return early check returns error. details structure <hub_validations> objects, including access information individual checks, see article <hub_validations> S3 class objects.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/reference/validate_submission_time.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate a submitted model data file submission time. — validate_submission_time","text":"","code":"hub_path <- system.file(\"testhubs/simple\", package = \"hubValidations\") file_path <- \"team1-goodmodel/2022-10-08-team1-goodmodel.csv\" validate_submission_time(hub_path, file_path) #> ::notice ::! 2022-10-08-team1-goodmodel.csv: Submission time must be within accepted%0A  submission window for round.  Current time 2024-03-06 12:36:15.364363 is%0A  outside window 2022-10-02 EDT--2022-10-09 23:59:59 EDT."},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/news/index.html","id":"hubvalidations-0009008","dir":"Changelog","previous_headings":"","what":"hubValidations 0.0.0.9008","title":"hubValidations 0.0.0.9008","text":"structure <hub_validations> class objects. Validating Pull Requests Github (admins). Validating Submissions locally (teams). Added tables details individual checks performed high level validate_*() function documentation. Fixed bug check values value column non-decreasing output_type_ids increase unique task ID /output type value combinations cdf quantile output types erroneously returning validation errors output_type_id column ordered. (Thanks @M-7th).","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/news/index.html","id":"hubvalidations-0009007","dir":"Changelog","previous_headings":"","what":"hubValidations 0.0.0.9007","title":"hubValidations 0.0.0.9007","text":"file_modification_check, controls whether modification/deletion checks performed returned modifications/deletions detected. allow_submit_window_mods, controls whether modifications/deletions model output files allowed within submission windows.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/news/index.html","id":"hubvalidations-0009006","dir":"Changelog","previous_headings":"","what":"hubValidations 0.0.0.9006","title":"hubValidations 0.0.0.9006","text":"validate_pr() now checks deletions previously submitted model metadata files modifications deletions previously submitted model output files, adding <error/check_error> class object function output detected modified/deleted file (#43 & #44).","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/news/index.html","id":"hubvalidations-0009005","dir":"Changelog","previous_headings":"","what":"hubValidations 0.0.0.9005","title":"hubValidations 0.0.0.9005","text":"Improved handling numeric output type IDs (including high precision floating points / values trailing zeros), especially overall hub output type ID column character. previously lead number bugs false validation failures (#58 & #54) addressed version. Bug fixes respect handling modelling tasks required task ID / output type combinations. Improved capture error messages check execution error occurs.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/news/index.html","id":"hubvalidations-0009004","dir":"Changelog","previous_headings":"","what":"hubValidations 0.0.0.9004","title":"hubValidations 0.0.0.9004","text":"release contains bug fix reading validating CSV column types correctly. (#54)","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/news/index.html","id":"hubvalidations-0009003","dir":"Changelog","previous_headings":"","what":"hubValidations 0.0.0.9003","title":"hubValidations 0.0.0.9003","text":"release includes number bug fixes: - Deployment custom/optional functions via validations.yml can now accessed directly form pkg namespace, addressing bug required pkg library loaded. (#51) - Use .equal check sums pmf probabilities equal 1. (#52)","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/news/index.html","id":"hubvalidations-0009002","dir":"Changelog","previous_headings":"","what":"hubValidations 0.0.0.9002","title":"hubValidations 0.0.0.9002","text":"release includes improvements designed first round sandbox testing setting CDC FluSight hub. Improvements include: Export parse_file_name function parsing model output metadata model output file name. Issue specific informative messaging check_tbl_values() check fails. Adding verbose option check_for_errors() function prints results checks addition deafult overall result subset failed checks.","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/news/index.html","id":"hubvalidations-0009001","dir":"Changelog","previous_headings":"","what":"hubValidations 0.0.0.9001","title":"hubValidations 0.0.0.9001","text":"Release first draft hubValidations package","code":""},{"path":"https://infectious-disease-modeling-hubs.github.io/hubValidations/news/index.html","id":"hubvalidations-0009000","dir":"Changelog","previous_headings":"","what":"hubValidations 0.0.0.9000","title":"hubValidations 0.0.0.9000","text":"Added NEWS.md file track changes package.","code":""}]
