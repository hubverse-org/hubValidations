<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog â€¢ hubValidations</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://hubverse-org.github.io/hubValidations/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">
    <a href="https://hubdocs.readthedocs.io/en/latest/" class="external-link"><img src="https://raw.githubusercontent.com/hubverse-org/hubStyle/main/inst/hubverse.png" id="logo" height="30" alt="hubverse"></a>
    <a class="navbar-brand me-2" href="../index.html">hubValidations</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/hub-validations-class.html">Structure of hub_validations class objects</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Validation for hub admins through CI</h6></li>
    <li><a class="dropdown-item" href="../articles/validate-pr.html">Validating Pull Requests on GitHub</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Validation for submitting teams</h6></li>
    <li><a class="dropdown-item" href="../articles/validate-submission.html">Validating submissions locally</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/custom-functions.html">Including custom validation functions</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/hubverse-org/hubValidations/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/hubverse-org/hubValidations/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.1" id="hubvalidations-051">hubValidations 0.5.1<a class="anchor" aria-label="anchor" href="#hubvalidations-051"></a></h2>
<ul><li>Remove dependency on development version of <code>arrow</code> package and bump required version to 17.0.0.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0" id="hubvalidations-050">hubValidations 0.5.0<a class="anchor" aria-label="anchor" href="#hubvalidations-050"></a></h2>
<p>This release introduces <strong>significant improvements in the performance of submission validation</strong> via the following changes:</p>
<ul><li>Add ability to sub-set expanded valid value grids by output type through <code>output_type</code> argument in <code><a href="../reference/expand_model_out_grid.html">expand_model_out_grid()</a></code> (<a href="https://github.com/hubverse-org/hubValidations/issues/98" class="external-link">#98</a>).</li>
<li>Add ability to ignore the values of derived task IDs in expanded valid value grids through argument <code>derived_task_ids</code> in <code><a href="../reference/expand_model_out_grid.html">expand_model_out_grid()</a></code>.</li>
<li>Use sub-setting and batching of model output data validation by output type in appropriate lower level checks and add ability to ignore derived task IDs in <code><a href="../reference/validate_model_data.html">validate_model_data()</a></code>, <code><a href="../reference/validate_submission.html">validate_submission()</a></code> and <code><a href="../reference/validate_pr.html">validate_pr()</a></code>.</li>
</ul><p>Both of these changes <strong>allow for the creation of smaller, more focused expanded valid value grids, significantly reducing pressure on memory</strong> when working with large, complex hub configs and making submission validation much more efficient.</p>
<p>Additional useful functionality:</p>
<ul><li>Add ability to subset by output type and ignore derived task IDs to <code><a href="../reference/submission_tmpl.html">submission_tmpl()</a></code>. Ignoring derived task ids can be particularly useful to avoid creating templates with invalid derived task ID value combinations.</li>
<li>Add new exported function <code><a href="../reference/match_tbl_to_model_task.html">match_tbl_to_model_task()</a></code> that matches the rows in a <code>tbl</code> of model output data to a model task of a given round (as defined in <code>tasks.json</code>).</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.0" id="hubvalidations-040">hubValidations 0.4.0<a class="anchor" aria-label="anchor" href="#hubvalidations-040"></a></h2>
<ul><li>Add new <code><a href="../reference/check_tbl_spl_compound_taskid_set.html">check_tbl_spl_compound_taskid_set()</a></code> check function to <code><a href="../reference/validate_model_data.html">validate_model_data()</a></code> that ensures that sample compound task id sets for each modeling task match or are coarser than the expected set defined in <code>tasks.json</code> config.</li>
<li>Add new <code><a href="../reference/get_tbl_compound_taskid_set.html">get_tbl_compound_taskid_set()</a></code> for detecting sample compound task ID set from submission data.</li>
<li>Add argument <code>compound_taskid_set</code> to <code><a href="../reference/expand_model_out_grid.html">expand_model_out_grid()</a></code> and <code><a href="../reference/submission_tmpl.html">submission_tmpl()</a></code> that allows users to override the compound task ID set when creating sample indices in the <code>output_type_id</code> column of samples.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="hubvalidations-030">hubValidations 0.3.0<a class="anchor" aria-label="anchor" href="#hubvalidations-030"></a></h2>
<ul><li>Introduce an <code>output_type_id_datatype</code> argument to <code><a href="../reference/validate_pr.html">validate_pr()</a></code>, <code><a href="../reference/validate_submission.html">validate_submission()</a></code>, <code><a href="../reference/validate_model_data.html">validate_model_data()</a></code> and <code><a href="../reference/expand_model_out_grid.html">expand_model_out_grid()</a></code> and set default value to <code>"from_config"</code>. This default means the data type specified in the <code>output_type_id_datatype</code> property in <code>tasks.json</code> (introduced in schema version <code>v3.0.1</code>) is used to cast the hub level <code>output_type_id</code> column data type. If not set in the config, the functions fall back to <code>"auto"</code> which detects the simplest data type that can represent all output type id values across all output types and rounds. The argument also allows hub administrators to override this setting manually during validation.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="hubvalidations-020">hubValidations 0.2.0<a class="anchor" aria-label="anchor" href="#hubvalidations-020"></a></h2>
<ul><li>Move and rename the following <code>hubData</code> functions to <code>hubValidations</code>:</li>
<li>
<code><a href="https://rdrr.io/pkg/hubData/man/expand_model_out_val_grid.html" class="external-link">hubData::expand_model_out_val_grid</a></code> to <code>expand_model_out_grid</code>.</li>
<li>
<code><a href="https://rdrr.io/pkg/hubData/man/create_model_out_submit_tmpl.html" class="external-link">hubData::create_model_out_submit_tmpl</a></code> to <code>submission_tmpl</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="hubvalidations-010">hubValidations 0.1.0<a class="anchor" aria-label="anchor" href="#hubvalidations-010"></a></h2>
<ul><li>Support validation of v3 schema sample submissions.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.1" id="hubvalidations-001">hubValidations 0.0.1<a class="anchor" aria-label="anchor" href="#hubvalidations-001"></a></h2>
<ul><li>Release stable 0.0.1 version</li>
<li>Enforce minimum dependence on latest <code>hubData</code> (0.1.0) &amp; <code>hubAdmin</code> (0.1.0). This allows for successful validation of submissions to hubs with multiple model tasks, where a given model task might contain non relevant task IDs and both <code>required</code> and <code>optional</code> properties have been set to <code>null</code> in <code>tasks.json</code> (<a href="https://github.com/hubverse-org/hubValidations/issues/75" class="external-link">#75</a>). See the <a href="https://hubverse.io/en/latest/quickstart-hub-admin/tasks-config.html#required-and-optional-elements" class="external-link">relevant section in <code>hubDocs</code> documentation</a> for more details.</li>
<li>Improve formatting of current time print in <code><a href="../reference/validate_submission_time.html">validate_submission_time()</a></code> message by removing decimal seconds and including local time zone.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9008" id="hubvalidations-0009008">hubValidations 0.0.0.9008<a class="anchor" aria-label="anchor" href="#hubvalidations-0009008"></a></h2>
<ul><li>Added new articles on:
<ul><li>The structure of <code>&lt;hub_validations&gt;</code> class objects.</li>
<li>Validating Pull Requests on Github (for admins).</li>
<li>Validating Submissions locally (for teams).</li>
</ul></li>
<li>Added tables with details of individual checks performed by each high level <code>validate_*()</code> function to documentation.</li>
<li>Fixed bug where check that values in <code>value</code> column are non-decreasing as <code>output_type_id</code>s increase for all unique task ID /output type value combinations for <code>cdf</code> and <code>quantile</code> output types was erroneously returning validation errors if the <code>output_type_id</code> column was not ordered. (Thanks <a href="https://github.com/M-7th" class="external-link">@M-7th</a>).</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9007" id="hubvalidations-0009007">hubValidations 0.0.0.9007<a class="anchor" aria-label="anchor" href="#hubvalidations-0009007"></a></h2>
<ul><li>
<code><a href="../reference/validate_pr.html">validate_pr()</a></code> now has arguments for controlling modification/deletions check are performed on model output and model metadata files (<a href="https://github.com/hubverse-org/hubValidations/issues/65" class="external-link">#65</a>).
<ul><li>
<code>file_modification_check</code>, which controls whether modification/deletion checks are performed and what is returned if modifications/deletions detected.</li>
<li>
<code>allow_submit_window_mods</code>, which controls whether modifications/deletions of model output files are allowed within their submission windows.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9006" id="hubvalidations-0009006">hubValidations 0.0.0.9006<a class="anchor" aria-label="anchor" href="#hubvalidations-0009006"></a></h2>
<ul><li>
<code><a href="../reference/validate_pr.html">validate_pr()</a></code> now checks for deletions of previously submitted model metadata files and modifications or deletions of previously submitted model output files, adding an <code>&lt;error/check_error&gt;</code> class object to the function output for each detected modified/deleted file (<a href="https://github.com/hubverse-org/hubValidations/issues/43" class="external-link">#43</a> &amp; <a href="https://github.com/hubverse-org/hubValidations/issues/44" class="external-link">#44</a>).</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9005" id="hubvalidations-0009005">hubValidations 0.0.0.9005<a class="anchor" aria-label="anchor" href="#hubvalidations-0009005"></a></h2>
<ul><li>Improved handling of numeric output type IDs (including high precision floating points / values with trailing zeros), especially when overall hub output type ID column is character. This previously lead to a number of bugs and false validation failures (<a href="https://github.com/hubverse-org/hubValidations/issues/58" class="external-link">#58</a> &amp; <a href="https://github.com/hubverse-org/hubValidations/issues/54" class="external-link">#54</a>) which are addressed in this version.</li>
<li>Bug fixes with respect to handling modelling tasks with no required task ID / output type combinations.</li>
<li>Improved capture of error messages when check execution error occurs.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9004" id="hubvalidations-0009004">hubValidations 0.0.0.9004<a class="anchor" aria-label="anchor" href="#hubvalidations-0009004"></a></h2>
<p>This release contains a bug fix for reading in and validating CSV column types correctly. (<a href="https://github.com/hubverse-org/hubValidations/issues/54" class="external-link">#54</a>)</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9003" id="hubvalidations-0009003">hubValidations 0.0.0.9003<a class="anchor" aria-label="anchor" href="#hubvalidations-0009003"></a></h2>
<p>This release includes a number of bug fixes: - Deployment of custom/optional functions via <code>validations.yml</code> can now be accessed directly form <code>pkg</code> namespace, addressing bug which required <code>pkg</code> library to be loaded. (<a href="https://github.com/hubverse-org/hubValidations/issues/51" class="external-link">#51</a>) - Use <code>all.equal</code> to check that sums of <code>pmf</code> probabilities equal 1. (<a href="https://github.com/hubverse-org/hubValidations/issues/52" class="external-link">#52</a>)</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9002" id="hubvalidations-0009002">hubValidations 0.0.0.9002<a class="anchor" aria-label="anchor" href="#hubvalidations-0009002"></a></h2>
<p>This release includes improvements designed after the first round of sandbox testing on setting up the CDC FluSight hub. Improvements include:</p>
<ul><li>Export <code>parse_file_name</code> function for parsing model output metadata from a model output file name.</li>
<li>Issue more specific and informative messaging when <code><a href="../reference/check_tbl_values.html">check_tbl_values()</a></code> check fails.</li>
<li>Adding a <code>verbose</code> option to <code><a href="../reference/check_for_errors.html">check_for_errors()</a></code> function which prints the results of all checks in addition to the deafult overall result and subset of failed checks.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9001" id="hubvalidations-0009001">hubValidations 0.0.0.9001<a class="anchor" aria-label="anchor" href="#hubvalidations-0009001"></a></h2>
<ul><li>Release of first draft <code>hubValidations</code> package</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9000" id="hubvalidations-0009000">hubValidations 0.0.0.9000<a class="anchor" aria-label="anchor" href="#hubvalidations-0009000"></a></h2>
<ul><li>Added a <code>NEWS.md</code> file to track changes to the package.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Anna Krystalli, Evan Ray, Hugo Gruson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0. PR Previews built by <a href="https://www.netlify.com" class="external-link">Netlify</a>. Provided without <strong>any warranty</strong>.</p>
</div>

    </footer></div>





  </body></html>

